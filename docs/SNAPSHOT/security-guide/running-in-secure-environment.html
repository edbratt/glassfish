
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Running in a Secure Environment</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="css/style.css" rel="stylesheet">
    <script src="https://use.fontawesome.com/96c4d89611.js"></script>
  </head>
  <body>
<table id="doc-title" cellspacing="0" cellpadding="0">
  <tr>
  <td align="left" valign="top">
  <b>Running in a Secure Environment</b><br />
      <p class="beta">DRAFT</p>
  </td>
  </tr>
</table>
<hr />

<table width="90%" id="top-nav" cellspacing="0" cellpadding="0">
	<colgroup>
		<col width="12%"/>
		<col width="12%"/>
		<col width="*"/>
	</colgroup>
	<tr>
		<td align="left">
		<a href="administrative-security.html">
			<span class="vector-font"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i></span>
			<span style="position:relative;top:-2px;">Previous</span>
		</a>
		</td>


		<td align="right">
		<a href="toc.html">
			<span class=" vector-font"><i class="fa fa-list vector-font" aria-hidden="true"></i></span>
			<span style="position:relative;top:-2px;">Contents</span>
		</a>
		</td>
	</tr>
</table>


<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><a id="GSSCG00040"></a><a id="gkscr"></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="running-in-a-secure-environment">6 Running in a Secure Environment</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This chapter describes important information about running GlassFish
Server in a secure environment.</p>
</div>
<div class="paragraph">
<p>This chapter assumes that you are familiar with security features such
as authentication, authorization, and certificates. If you are not, see
<a href="system-security.html#ablnk">Administering System Security</a>.</p>
</div>
<div class="paragraph">
<p>Instructions for accomplishing the tasks specific to GlassFish Server by
using the Administration Console are contained in the Administration
Console online help.</p>
</div>
<div class="paragraph">
<p>The chapter describes the following topics:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#gksbk">Determining Your Security Needs</a></p>
</li>
<li>
<p><a href="#gksbw">Installing GlassFish Server in a Secure Environment</a></p>
</li>
<li>
<p><a href="#gksby">Run on the Web Profile if Possible</a></p>
</li>
<li>
<p><a href="#gksct">Securing the GlassFish Server Host</a></p>
</li>
<li>
<p><a href="#gksca">Securing GlassFish Server</a></p>
</li>
<li>
<p><a href="#gksbf">Securing Applications</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="gksbk"></a><a id="GSSCG00169"></a><a id="determining-your-security-needs"></a></p>
</div>
<div class="sect2">
<h3 id="_determining_your_security_needs">Determining Your Security Needs</h3>
<div class="paragraph">
<p>Before you deploy GlassFish Server and your Java EE applications into a
production environment, determine your security needs and make sure that
you take the appropriate security measures, as described in the
following sections:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#gkscs">Understand Your Environment</a></p>
</li>
<li>
<p><a href="#gksce">Read Security Publications</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="gkscs"></a><a id="GSSCG00237"></a><a id="understand-your-environment"></a></p>
</div>
<div class="sect3">
<h4 id="_understand_your_environment">Understand Your Environment</h4>
<div class="paragraph">
<p>To better understand your security needs, ask yourself the following
questions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Which resources am I protecting?<br>
Many resources in the production environment can be protected, including
information in databases accessed by GlassFish Server and the
availability, performance, applications, and the integrity of the Web
site. Consider the resources you want to protect when deciding the level
of security you must provide.</p>
</li>
<li>
<p>From whom am I protecting the resources?<br>
For most Web sites, resources must be protected from everyone on the
Internet. But should the Web site be protected from the employees on the
intranet in your enterprise? Should your employees have access to all
resources within the GlassFish Server environment? Should the system
administrators have access to all GlassFish Server resources? Should the
system administrators be able to access all data? You might consider
giving access to highly confidential data or strategic resources to only
a few well trusted system administrators. Perhaps it would be best to
allow no system administrators access to the data or resources.</p>
</li>
<li>
<p>What will happen if the protections on strategic resources fail?<br>
In some cases, a fault in your security scheme is easily detected and
considered nothing more than an inconvenience. In other cases, a fault
might cause great damage to companies or individual clients that use the
Web site. Understanding the security ramifications of each resource will
help you protect it properly.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>(<code>http://www.oracle.com/us/products/ondemand/index.html</code>)<a id="gksce"></a></p>
</div>
<div class="paragraph">
<p><a id="GSSCG00239"></a><a id="read-security-publications"></a></p>
</div>
</div>
<div class="sect3">
<h4 id="_read_security_publications">Read Security Publications</h4>
<div class="paragraph">
<p>Read about security issues:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For the latest information about securing Web servers, Oracle
recommends the "Security Practices &amp; Evaluations" information available
from the CERT Coordination Center operated by Carnegie Mellon University
at <code>http://www.cert.org/</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="gksbw"></a><a id="GSSCG00170"></a><a id="installing-glassfish-server-in-a-secure-environment"></a></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_installing_glassfish_server_in_a_secure_environment">Installing GlassFish Server in a Secure Environment</h3>
<div class="paragraph">
<p>This section describes recommendations for installing GlassFish Server
in a secure environment. The <a href="#gkscn">Enable the Secure
Administration Feature</a> topic is described.</p>
</div>
<div class="paragraph">
<p><a id="gkscn"></a><a id="GSSCG00240"></a><a id="enable-the-secure-administration-feature"></a></p>
</div>
<div class="sect3">
<h4 id="_enable_the_secure_administration_feature">Enable the Secure Administration Feature</h4>
<div class="paragraph">
<p>The secure administration feature allows an administrator to secure all
administrative communication between the domain administration server
(DAS), any remote instances, and administration clients such as the
asadmin utility, the administration console, and REST clients. In
addition, secure administration helps to prevent DAS-to-DAS and
instance-to-instance traffic, and carefully restricts
administration-client-to-instance traffic.</p>
</div>
<div class="paragraph">
<p>When you install GlassFish Server or create a new domain, secure admin
is disabled by default. GlassFish Server does not encrypt administrative
communication among the system components and does not accept
administrative connections from remote hosts. Imposing a heightened
level of security is optional.</p>
</div>
<div class="paragraph">
<p>See <a href="administrative-security.html#gknqh">Managing Administrative
Security</a> for information on enabling the secure administration feature.</p>
</div>
<div class="paragraph">
<p><a id="gksby"></a><a id="GSSCG00172"></a><a id="run-on-the-web-profile-if-possible"></a></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_run_on_the_web_profile_if_possible">Run on the Web Profile if Possible</h3>
<div class="paragraph">
<p>If your applications can run on the Web Profile, use that instead of the
Full Platform.</p>
</div>
<div class="paragraph">
<p>Starting in Java EE 6, Java EE introduced the concept of profiles. A
profile is a collection of Java EE technologies and APIs that address
specific developer communities and application types.</p>
</div>
<div class="paragraph">
<p>The following profiles are implemented through the distributions of
GlassFish Server:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Full Platform -The full Java EE platform is designed for developers
who require the full set of Java EE APIs for enterprise application
development, and is installed when you install GlassFish Server. This
profile is also installed as part of the Java EE 8 SDK installation.</p>
</li>
<li>
<p>Web Profile -This profile contains Web technologies that are a subset
of the full Java platform, and is designed for developers who do not
require the full set of Java EE APIs. This profile is also installed
with Java EE 8 Web Profile SDK.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For the list of APIs in each profile, see "<a href="../release-notes/release-notes.html#GSRLN00136">Java EE
Standards Support</a>" in GlassFish Server Open Source Edition Release
Notes.</p>
</div>
<div class="paragraph">
<p><a id="gksct"></a><a id="GSSCG00173"></a><a id="securing-the-glassfish-server-host"></a></p>
</div>
</div>
<div class="sect2">
<h3 id="_securing_the_glassfish_server_host">Securing the GlassFish Server Host</h3>
<div class="paragraph">
<p>A GlassFish Server production environment is only as secure as the
security of the machine on which it is running. It is important that you
secure the physical machine, the operating system, and all other
software that is installed on the host machine.</p>
</div>
<div class="paragraph">
<p>The following are recommendations for securing a GlassFish Server host
in a production environment. Also check with the manufacturer of the
machine and operating system for recommended security measures.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>The domain and server configuration files should be accessible only by
the operating system users who configure or execute GlassFish Server.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><a id="sthref39"></a><a id="gksbt"></a></p>
</div>
<div class="paragraph">
<p>Table 6-1 Securing the GlassFish Server Host</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 27%;">
<col style="width: 73%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Security Action</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Physically secure the hardware.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Keep your hardware in a secured area
to prevent unauthorized operating system users from tampering with the
deployment machine or its network connections.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Log out of the Administration Console before navigating to a non-secure
site.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If you are logged on to the Administration Console, be sure to
log out completely before browsing to an unknown or non-secure Web site.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Secure networking services that the operating system provides.</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Have an expert review network services such as e-mail programs or
directory services to ensure that a malicious attacker cannot access the
operating system or system-level commands. The way you do this depends
on the operating system you use.</p>
</div>
<div class="paragraph">
<p>Sharing a file system with other machines in the enterprise network
imposes risks of a remote attack on the file system. Be certain that the
remote machines and the network are secure before sharing the file
systems from the machine.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use a file system that can prevent unauthorized access.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Make sure that
the file system on each GlassFish Serverhost can prevent unauthorized
access to protected resources. For example, on a Windows computer, use
only NTFS.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set file access permissions for data stored on disk.</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Set operating system file access permissions to restrict access to data
stored on disk. This data includes, but is not limited to, the
following:</p>
</div>
<div class="paragraph">
<p>The database files. GlassFish Server includes Apache Derby database,
however, you can use any JDBC-compliant database.</p>
</div>
<div class="paragraph">
<p>The directory and filename location of a private keystore, such as
keystore.jks</p>
</div>
<div class="paragraph">
<p>The directory and filename location of a Root Certificate Authority (CA)
keystore, such as cacerts.jks.</p>
</div>
<div class="paragraph">
<p>For example, operating systems provide utilities such as umask and chmod
to set the file access permissions. At a minimum, consider using "umask
066", which denies read and write permission to Group and Others.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set file access permission for the GlassFish Server installation.</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The directory structure in which GlassFish Server is located, including
all files, should be protected from access by unprivileged users.</p>
</div>
<div class="paragraph">
<p>Taking this step helps ensure that unprivileged users cannot insert code
that can potentially be executed by GlassFish Server.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Limit the number of user accounts on the host machine.</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Avoid creating more user accounts than you need on host machines, and
limit the file access privileges granted to each account. On operating
systems that allow more than one system administrator user, the host
machine should have two user accounts with system administrator
privileges and one user with sufficient privileges to run GlassFish
Server. Having two system administrator users provides a back up at all
times. The GlassFish Server user should be a restricted user, not a
system administrator user. One of the system administrator users can
always create a new GlassFish Server user if needed.</p>
</div>
<div class="paragraph">
<p>Important: Domain and server configuration files should be accessible
only by the operating system users who configure or execute GlassFish
Server.</p>
</div>
<div class="paragraph">
<p>Review active user accounts regularly and when personnel leave.</p>
</div>
<div class="paragraph">
<p>Background Information: Configuration data and some URL (Web) resources,
including Java Server Pages (JSPs) and HTML pages, are stored in clear
text on the file system. A sophisticated user or intruder with read
access to files and directories might be able to defeat any security
mechanisms you establish with authentication and authorization schemes.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">For your system administrator user accounts, choose names that are not
obvious.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For additional security, avoid choosing an obvious name such
as "system," "admin," or "administrator" for your system administrator
user accounts.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Safeguard passwords.</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The passwords for user accounts on production machines should be
difficult to guess and should be guarded carefully.</p>
</div>
<div class="paragraph">
<p>Set a policy to expire passwords periodically.</p>
</div>
<div class="paragraph">
<p>Never code passwords in client applications.</p>
</div>
<div class="paragraph">
<p>Do not deploy an application that can be accessed with the default
username admin and no password.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Safeguard password files</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The <code>-passwordfile</code> option of the <code>asadmin</code> command specifies the name
of a file that contains password entries in a specific format. These
password entries are stored in clear text in the password file, and rely
on file system mechanisms for protection. Therefore, any password file
created for use with the <code>-passwordfile</code> option should be protected with
file system permissions. Additionally, any password file being used for
a transient purpose, such as setting up SSH among nodes, should be
deleted after it has served its purpose.</p>
</div>
<div class="paragraph">
<p>To provide additional security, create a password alias.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use a password alias</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>A password alias stores a password in encrypted form in the domain
keystore, providing a clear-text alias name to use instead of the
password.</p>
</div>
<div class="paragraph">
<p>To provide additional security, use the <code>create-password-alias</code>
subcommand to create an alias for the password. The password for which
the alias is created is stored in an encrypted form.</p>
</div>
<div class="paragraph">
<p>Then, specify the alias in the entry for the password in the password
file as follows:</p>
</div>
<div class="paragraph">
<p>In password files and the domain configuration file, use the form
$\{alias=alias-name} to refer to the encrypted password.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Do not run GlassFish Server as root</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>GlassFish Server should run only as an unprivileged user, never as root.</p>
</div>
<div class="paragraph">
<p>Taking this step helps ensure that code from other users cannot be
executed by GlassFish Server.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Consider use PAM Realm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The use of a PAM Realm requires GlassFish
Server to run as an account that has read-access to a shadow password
file or the equivalent, and therefore may not be suitable in your
environment.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Do not develop on a production machine.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Develop first on a development
machine and then move code to the production machine when it is
completed and tested. This process prevents bugs in the development
environment from affecting the security of the production environment.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Do not install development or sample software on a production machine.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Do not install development tools on production machines. Keeping
development tools off the production machine reduces the leverage
intruders have should they get partial access to a production machine.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enable security auditing.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If the operating system on which GlassFish
Server runs supports security auditing of file and directory access,
Oracle recommends using audit logging to track any denied directory or
file access violations. Administrators should ensure that sufficient
disk space is available for the audit log.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Consider using additional software to secure your operating system.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Most operating systems can run additional software to secure a
production environment. For example, an Intrusion Detection System (IDS)
can detect attempts to modify the production environment. Refer to the
vendor of your operating system for information about available
software.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Apply operating system patch sets and security patches.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Refer to the
vendor of your operating system for a list of recommended patch sets and
security-related patches.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Apply the latest maintenance packs and critical patch updates.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Refer
to the vendor of your operating system for a list of maintenance packs
and critical patch updates.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="gksca"></a><a id="GSSCG00174"></a><a id="securing-glassfish-server"></a></p>
</div>
</div>
<div class="sect2">
<h3 id="_securing_glassfish_server">Securing GlassFish Server</h3>
<div class="paragraph">
<p>GlassFish Server provides a powerful and flexible set of software tools
for securing the subsystems and applications that run on a server
instance. The following table provides a checklist of essential features
that Oracle recommends you use to secure your production environment.</p>
</div>
<div class="paragraph">
<p><a id="sthref40"></a><a id="gkscz"></a></p>
</div>
<div class="paragraph">
<p>Table 6-2 Securing GlassFish Server</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Security Action</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enable Secure Admin.</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The secure administration feature allows an administrator to secure all
administrative communication between the domain administration server
(DAS), any remote instances, and administration clients such as the
<code>asadmin</code> utility, the administration console, and REST clients.</p>
</div>
<div class="paragraph">
<p>In addition, secure administration helps to prevent DAS-to-DAS and
instance-to-instance traffic, and carefully restricts
administration-client-to-instance traffic.</p>
</div>
<div class="paragraph">
<p>The secure administration feature provides a secure environment, in
which you can be confident that rogue users or processes cannot
intercept or corrupt administration traffic or impersonate legitimate
GlassFish Server components.</p>
</div>
<div class="paragraph">
<p>See <a href="administrative-security.html#gknqh">Managing Administrative
Security</a>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Protect the <code>.asadminpass</code> file</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>If you create a domain with the <code>--savelogin</code> option, <code>create-domain</code>
saves the administration user name and password in the <code>.asadminpass</code>
file in the user&#8217;s home directory.</p>
</div>
<div class="paragraph">
<p>Make sure that this file remains protected. Information stored in this
file will be used by <code>asadmin</code> commands to manage this domain.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Safeguard password files</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The <code>-passwordfile</code> option of the <code>asadmin</code> command specifies the name
of a file that contains password entries in a specific format. These
password entries are stored in clear text in the password file, and rely
on file system mechanisms for protection. Therefore, any password file
created for use with the <code>-passwordfile</code> option should be protected with
file system permissions. Additionally, any password file being used for
a transient purpose, such as setting up SSH among nodes, should be
deleted after it has served its purpose.</p>
</div>
<div class="paragraph">
<p>To provide additional security, create a password alias.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Deploy production-ready security providers to the security realm.</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Java Authorization Contract for Containers (JACC) is the part of the
Java EE specification that defines an interface for pluggable
authorization providers. This enables you to set up third-party plug-in
modules to perform authorization.</p>
</div>
<div class="paragraph">
<p>By default, the GlassFish Server provides a simple, file-based
authorization engine that complies with the JACC specification. You can
also specify additional third-party JACC providers.</p>
</div>
<div class="paragraph">
<p>If you have purchased or written your own security providers, make sure
that you have deployed and configured them properly.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use SSL, but do not use the self-signed certificates in a production
environment.</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>To prevent sensitive data from being compromised, secure data transfers
by using HTTPS.</p>
</div>
<div class="paragraph">
<p>By default, GlassFish Server uses self-signed certificates. The
self-signed certificates that GlassFish Server uses might not be trusted
by clients by default because a certificate authority does not vouch for
the authenticity of the certificate.</p>
</div>
<div class="paragraph">
<p>You can instead use your own certificates, as described in
<a href="administrative-security.html#gkped">Using Your Own Certificates</a>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Restrict the size and the time limit of requests on external channels
to prevent Denial of Service attacks.</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>To prevent some Denial of Service (DoS) attacks, restrict the size of a
message as well as the maximum time it takes a message to arrive.</p>
</div>
<div class="paragraph">
<p>The default setting for maximum post size is 2097152 bytes and 900
seconds for the request timeout.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enable authentication and authorization auditing.</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Auditing is the process of recording key security events in your
GlassFish Server environment. You use audit modules to develop an audit
trail of all authentication and authorization decisions. To enable audit
logging, two steps are required:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>On the Security page, select the Audit Logging Enabled checkbox to
enable audit logging.</p>
</li>
<li>
<p>Set the <code>auditOn</code> property for the active audit module to true.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Review the auditing records periodically to detect security breaches and
attempted breaches. Noting repeated failed logon attempts or a
surprising pattern of security events can prevent serious problems.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set logging for security and SSL messages.</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Consider setting module log levels for
table.jakarta.enterprise.system.ssl.security and
jakarta.enterprise.system.core.security. You can set a level from Severe
to Finest (the default is Info), but be aware that the finer logging
levels may produce a large log file.</p>
</div>
<div class="paragraph">
<p>By default, GlassFish Server logging messages are recorded in the server
log, and you can set the file rotation limit, as described in
<a href="../reference-manual/rotate-log.html#GSRFM00224"><code>rotate-log</code>(1)</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ensure that you have correctly assigned users to the correct groups.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Make sure you have assigned the desired set of users to the right
groups. In particular, make sure that users assigned to the asadmin
group need to be members of that group.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Create no fewer than two user accounts in the asadmin group.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The user
admin is created when you install GlassFish Server. For production
environments, create at least one other account in the asadmin group in
case one account password is compromised. When creating asadmin users
give them unique names that cannot be easily guessed.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Assign a password to the admin account.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">By default, GlassFish Server
includes a single account for user "admin" and an empty password. For
production environments this default is inherently unsecure, and you
should set a password for admin.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="gksbf"></a><a id="GSSCG00175"></a><a id="securing-applications"></a></p>
</div>
</div>
<div class="sect2">
<h3 id="_securing_applications">Securing Applications</h3>
<div class="paragraph">
<p>Although much of the responsibility for securing the GlassFish Server
resources in a domain fall within the scope of the server, some security
responsibilities lie within the scope of individual applications. For
some security options, GlassFish Server enables you to determine whether
the server or individual applications are responsible. For each
application that you deploy in a production environment, review the
items in the following table to verify that you have secured its
resources.</p>
</div>
<div class="paragraph">
<p><a id="sthref41"></a><a id="gkscv"></a></p>
</div>
<div class="paragraph">
<p>Table 6-3 Securing Applications</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 22%;">
<col style="width: 78%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Security Action</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use JSP comment tags instead of HTML comment tags.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Comments in JSP
files that might contain sensitive data and or other comments that are
not intended for the end user should use the JSP syntax of &lt;%/* xxx */%&gt;
instead of the HTML syntax &lt;!-- xxx -&#8594;. The JSP comments, unlike the
HTML comments, are deleted when the JSP is compiled and therefore cannot
be viewed in the browser.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Do not install uncompiled JSPs and other source code on the production
machine.</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Always keep source code off of the production machine. Getting access to
your source code allows an intruder to find security holes.</p>
</div>
<div class="paragraph">
<p>Consider precompiling JSPs and installing only the compiled JSPs on the
production machine. To do this, set the <code>deploy</code> subcommand
<code>-precompilejsp</code> option to true for the component.</p>
</div>
<div class="paragraph">
<p>When set to true, the <code>deploy</code> and <code>redeploy</code> subcommands
<code>-precompilejsp</code> option compiles JSPs during deploy time. If set to
false (the default), JSPs are compiled during runtime.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Configure your applications to use SSL.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set the transport-guarantee to
CONFIDENTIAL in the user-data-constraint element of the web.xml file
whenever appropriate.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Examine applications for security.</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>There are instances where an application can lead to a security
vulnerability.</p>
</div>
<div class="paragraph">
<p>Of particular concern is code that uses Java native interface (JNI)
because Java positions native code outside of the scope of Java
security. If Java native code behaves errantly, it is only constrained
by the operating system. That is, the Java native code can do anything
GlassFish Server itself can do. This potential vulnerability is further
complicated by the fact that buffer overflow errors are common in native
code and can be used to run arbitrary code.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">If your applications contain untrusted code, enable the Java security
manager.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Java security manager defines and enforces permissions for
classes that run within a JVM. In many cases, where the threat model
does not include malicious code being run in the JVM, the Java security
manager is unnecessary. However, when third parties use GlassFish Server
and untrusted classes are being run, the Java security manager may be
useful. See "<a href="../application-development-guide/securing-apps.html#GSDVG00373">Enabling and Disabling the Security
Manager</a>" in GlassFish Server Open Source Edition Application
Development Guide.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Replace HTML special characters when servlets or JSPs return
user-supplied data.</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The ability to return user-supplied data can present a security
vulnerability called cross-site scripting, which can be exploited to
steal a user&#8217;s security authorization. For a detailed description of
cross-site scripting, refer to "Understanding Malicious Content
Mitigation for Web Developers" (a CERT security advisory) at
<code><a href="http://www.cert.org/tech_tips/malicious_code_mitigation.html" class="bare">http://www.cert.org/tech_tips/malicious_code_mitigation.html</a></code>.</p>
</div>
<div class="paragraph">
<p>To remove the security vulnerability, before you return data that a user
has supplied, scan the data for HTML special characters. If you find any
such characters, replace them with their HTML entity or character
reference. Replacing the characters prevents the browser from executing
the user-supplied data as HTML.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>

<hr />

<table width="90%" id="bottom-nav" cellspacing="0" cellpadding="0">
	<colgroup>
		<col width="12%"/>
		<col width="12%"/>
		<col width="*"/>
	</colgroup>
	<tr>		
		<td align="left">
		<a href="administrative-security.html">
			<span class=" vector-font"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i></span>
			<span style="position:relative;top:-2px;">Previous</span>
		</a>
		</td>


		<td align="right">
		<a href="toc.html">
			<span class="vector-font"><i class="fa fa-list vector-font" aria-hidden="true"></i></span>
			<span style="position:relative;top:-2px;">Contents</span>
		</a>
		</td>
	</tr>
</table>

<span id="copyright">
        <img src="img/eclipse_foundation_logo_tiny.png" height="20px" alt="Eclipse Foundation Logo" align="top"/>&nbsp;            
        <span >Copyright&nbsp;&copy;&nbsp;2019,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.</span>
</span>

<p align="center" class="beta">DRAFT</p>

</body>
</html>