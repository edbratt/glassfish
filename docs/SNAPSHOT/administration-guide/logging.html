
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Administering the Logging Service</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="css/style.css" rel="stylesheet">
    <script src="https://use.fontawesome.com/96c4d89611.js"></script>
  </head>
  <body>
<table id="doc-title" cellspacing="0" cellpadding="0">
  <tr>
  <td align="left" valign="top">
  <b>Administering the Logging Service</b><br />
      <p class="beta">DRAFT</p>
  </td>
  </tr>
</table>
<hr />

<table width="90%" id="top-nav" cellspacing="0" cellpadding="0">
	<colgroup>
		<col width="12%"/>
		<col width="12%"/>
		<col width="*"/>
	</colgroup>
	<tr>
		<td align="left">
		<a href="webapps.html">
			<span class="vector-font"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i></span>
			<span style="position:relative;top:-2px;">Previous</span>
		</a>
		</td>

		<td align="left">
		<a href="monitoring.html">
			<span class=" vector-font"><i class="fa fa-arrow-circle-right vector-font" aria-hidden="true"></i></span>
			<span style="position:relative;top:-2px;">Next</span>
		</a>
		</td>

		<td align="right">
		<a href="toc.html">
			<span class=" vector-font"><i class="fa fa-list vector-font" aria-hidden="true"></i></span>
			<span style="position:relative;top:-2px;">Contents</span>
		</a>
		</td>
	</tr>
</table>


<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><a id="GSADG00010"></a><a id="abluj"></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="administering-the-logging-service">7 Administering the Logging Service</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This chapter provides instructions on how to configure logging and how
to view log information in the GlassFish Server Open Source Edition 5.0
environment.</p>
</div>
<div class="paragraph">
<p>The following topics are addressed here:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#abluk">About Logging</a></p>
</li>
<li>
<p><a href="#gklmn">Configuring the Logging Service</a></p>
</li>
<li>
<p><a href="#gkobx">Viewing Log Records</a></p>
</li>
<li>
<p><a href="#CEGGHGIJ">Listing Loggers</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Instructions for accomplishing these tasks and editing logging service
properties in the Administration Console are available from the
Administration Console online help.</p>
</div>
<div class="paragraph">
<p><a id="abluk"></a><a id="GSADG00554"></a><a id="about-logging"></a></p>
</div>
<div class="sect2">
<h3 id="_about_logging">About Logging</h3>
<div class="paragraph">
<p>Logging is the process by which GlassFish Server Open Source Edition
captures information about events that occur, such as configuration
errors, security failures, or server malfunction. This data is recorded
in log files and is usually the first source of information when
problems occur. Analyzing the log files can help you to follow events
that occur in the server runtime and determine the overall health of the
server.</p>
</div>
<div class="paragraph">
<p>Although application components can use the Apache Commons Logging
Library to record messages, the platform standard JSR 47 Logging API is
recommended for better log configuration. For more information about JSR
47, see <code>http://jcp.org/en/jsr/detail?id=47</code>.</p>
</div>
<div class="paragraph">
<p>The following topics are addressed here:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#ablul">Log Files</a></p>
</li>
<li>
<p><a href="#gkres">Logger Namespaces</a></p>
</li>
<li>
<p><a href="#gkjft">Logging Targets</a></p>
</li>
<li>
<p><a href="#gkkit">Logging Properties</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="ablul"></a><a id="GSADG00719"></a><a id="log-files"></a></p>
</div>
<div class="sect3">
<h4 id="_log_files">Log Files</h4>
<div class="paragraph">
<p>GlassFish Server Open Source Edition log records are captured in the
server log file, which captures information about the operation of a
server instance running in the domain. Each instance, managed server
instance (that is, each cluster member), and the domain administration
server (DAS) has an individual server log file.</p>
</div>
<div class="paragraph">
<p>The following topics are addressed here:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#gkmep">Log File Names and Locations</a></p>
</li>
<li>
<p><a href="#gkmex">Log Records</a></p>
</li>
<li>
<p><a href="#gkmdz">Log Rotation</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="gkmep"></a><a id="GSADG00644"></a><a id="log-file-names-and-locations"></a></p>
</div>
<div class="sect4">
<h5 id="_log_file_names_and_locations">Log File Names and Locations</h5>
<div class="paragraph">
<p>In an GlassFish Server Open Source Edition domain, log files have the
following name and location by default:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 27%;">
<col style="width: 73%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Instance</th>
<th class="tableblock halign-left valign-top">Default Log File Name and Location</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DAS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">domain-dir`/logs/server.log`</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Each server instance</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">instance-dir`/logs/server.log`</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cluster instance</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">instance-dir`/logs/server.log`</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For example, in a domain hosted on a given machine that includes a
cluster with two managed servers (<code>ClusterServer1</code> and <code>ClusterServer1</code>)
and a standalone instance (<code>StandaloneServer</code>), the log files might be
arranged in the following directory structure. In this directory
structure, the <code>server.log</code> file for the DAS is located in
domain-dir`/logs`.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">as-install-parent directory
     glassfish/
         domains/
             domain-dir/
                         logs/
                            server.log
         nodes/
             hostname/
                         ClusterServer1/
                                      logs/
                                         server.log
                         ClusterServer2/
                                      logs/
                                         server.log
                         StandaloneServer/
                                      logs/
                                         server.log</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can change the default name or location of a log file by modifying
the logging properties file for the corresponding instance, described in
<a href="#gkmak">To Change the Name and Location of the Log File</a>.</p>
</div>
<div class="paragraph">
<p><a id="gkmex"></a><a id="GSADG00645"></a><a id="log-records"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_log_records">Log Records</h5>
<div class="paragraph">
<p>GlassFish Server Open Source Edition writes log records in either the
Oracle Diagnostics Logging (ODL) format or the Uniform Log Formatter
(ULF) format. The default format is ODL. For information about changing
the format, see <a href="#CEGDJEBG">Setting the Log File Format</a>.</p>
</div>
<div class="paragraph">
<p>A custom formatter can also be used by specifying the fully qualified
name of a class that extends the <code>java.util.logging.Formatter</code> class.
The custom formatter class can be packaged in a JAR file and placed in
the domain-dir`/lib/ext` directory, or implemented as a Hundred-Kilobyte
Kernel (HK2) service and the JAR containing the formatter implementation
placed in the as-install`/modules` directory.</p>
</div>
<div class="paragraph">
<p>Log records formatted in the ODL format are displayed as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">[yyyy-mm-ddThh:mm:ss.SSS-Z][ProductName-Version][Log Level]
[Message ID][LoggerName][Key Value Pairs][[
  Message]]</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>[</code> and <code>]</code> mark the beginning and end of fields in the record. Some
fields may be empty.</p>
</li>
<li>
<p>yyyy-mm-dd`T`hh:mm:ss.SSSS-Z represents the date and time that the
record was created. For example: <code>2013-04-12T08:08:30.154-0700</code></p>
</li>
<li>
<p>ProductName-Version represents the current version of GlassFish Server
Open Source Edition. For example: <code>glassfish</code></p>
</li>
<li>
<p>Log Level represents the log level. You can set any of the following
values: <code>EMERGENCY</code>, <code>ALERT</code>, <code>SEVERE</code>, <code>WARNING</code>, <code>INFO</code>, <code>CONFIG</code>,
<code>FINE</code>, <code>FINER</code>, and <code>FINEST</code>. The default is <code>INFO</code>.</p>
</li>
<li>
<p>Message ID consists of a module code that indicates the origin of the
message and the message number. For example: <code>AS-WEB-GLUE-00172</code></p>
</li>
<li>
<p>LoggerName represents a hierarchical logger namespace that identifies
the source of the log module. For example: <code>jakarta.enterprise.web</code></p>
</li>
<li>
<p>Key Value Pairs represents pairs of key names and values. For example:
<code>timeMillis: 1365779310154</code></p>
</li>
<li>
<p>Message represents the text of the log message. For multiline
messages, <code>[[</code> marks the end of the first line, and <code>]]</code> marks the end
of the message. Multiline messages start on a new line after the message
header and are indented.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following is an example of a log record formatted in the ODL format:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">[2013-04-12T08:08:30.154-0700] [glassfish 4.0] [INFO] [AS-WEB-GLUE-00172] [jakarta.enterprise.web] [tid: _ThreadID=217 _ThreadName=admin-listener(21)]
[timeMillis: 1365779310154] [levelValue: 800] [[
  Loading application [payroll] at [/payroll]]]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Log records formatted in the ULF format are displayed as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">[#|yyyy-mm-ddThh:mm:ss.SSS-Z|Log Level|ProductName-Version|LoggerName|Key Value Pairs|Message|#]</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>[#</code> and <code>#]</code> mark the beginning and end of the record.</p>
</li>
<li>
<p>The vertical bar (<code>|</code>) separates the fields of the record.</p>
</li>
<li>
<p>yyyy-mm-dd`T`hh:mm:ss.SSSS-Z represents the date and time that the
record was created. For example: <code>2013-04-18T09:27:44.315-0700</code></p>
</li>
<li>
<p>Log Level represents the log level. You can set any of the following
values: <code>EMERGENCY</code>, <code>ALERT</code>, <code>SEVERE</code>, <code>WARNING</code>, <code>INFO</code>, <code>CONFIG</code>,
<code>FINE</code>, <code>FINER</code>, and <code>FINEST</code>. The default is <code>INFO</code>.</p>
</li>
<li>
<p>ProductName-Version represents the current version of GlassFish Server
Open Source Edition. For example: <code>glassfish</code></p>
</li>
<li>
<p>LoggerName represents a hierarchical logger namespace that identifies
the source of the log module. For example: <code>jakarta.enterprise.web.core</code></p>
</li>
<li>
<p>Key Value Pairs represents pairs of key names and values and can
include a message ID. For example: <code>_MessageID=AS-WEB-CORE-00306</code>.<br>
Message IDs are included for all GlassFish Server Open Source Edition
<code>EMERGENCY</code>, <code>ALERT</code>, <code>SEVERE</code>, and <code>WARNING</code> messages, and for many
<code>INFO</code> messages.</p>
</li>
<li>
<p>Message represents the text of the log message. Multiline messages
start on a new line after the message header and are indented.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following is an example of a log record formatted in the ULF format:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">[#|2013-04-18T09:27:44.315-0700|INFO|glassfish 6.0|jakarta.enterprise.web.core|
_ThreadID=15;_ThreadName=RunLevelControllerThread-1366302462682;_TimeMillis=1366302464315;_LevelValue=800;_MessageID=AS-WEB-CORE-00306;|
  Setting JAAS app name glassfish-web|#]</code></pre>
</div>
</div>
<div class="paragraph">
<p>The Administration Console presents log records in a more readable
display. For information about viewing log records using the
Administration Console, see <a href="#gkobx">Viewing Log Records</a>.</p>
</div>
<div class="paragraph">
<p><a id="gkmdz"></a><a id="GSADG00646"></a><a id="log-rotation"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_log_rotation">Log Rotation</h5>
<div class="paragraph">
<p>By default, when a log file grows to 2 MB, GlassFish Server Open Source
Edition renames (rotates) the file to incorporate a timestamp and
creates a new log file. The log file is renamed as `server.log_`date,
where date is the date and time that the file was rotated.</p>
</div>
<div class="paragraph">
<p>You can configure the logging service to change the default settings for
log file rotation, as explained in <a href="#gklni">Setting Log File
Rotation</a>.</p>
</div>
<div class="paragraph">
<p><a id="gkres"></a><a id="GSADG00720"></a><a id="logger-namespaces"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_logger_namespaces">Logger Namespaces</h4>
<div class="paragraph">
<p>GlassFish Server Open Source Edition provides a logger for each of its
modules. The following list is an example of the logger namespaces in a
server instance as they appear when using the <code>list-log-levels</code>
subcommand.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">java.util.logging.ConsoleHandler     &lt;FINEST&gt;
jakarta.enterprise.resource.corba     &lt;INFO&gt;
jakarta.enterprise.resource.javamail  &lt;INFO&gt;
jakarta.enterprise.resource.jdo       &lt;INFO&gt;
jakarta.enterprise.resource.jms       &lt;INFO&gt;
jakarta.enterprise.resource.jta       &lt;INFO&gt;
jakarta.enterprise.resource.resourceadapter     &lt;INFO&gt;
jakarta.enterprise.resource.sqltrace  &lt;INFO&gt;
jakarta.enterprise.resource.webcontainer.jsf.application  &lt;INFO&gt;
jakarta.enterprise.resource.webcontainer.jsf.config       &lt;INFO&gt;
jakarta.enterprise.resource.webcontainer.jsf.context      &lt;INFO&gt;
jakarta.enterprise.resource.webcontainer.jsf.facelets     &lt;INFO&gt;
jakarta.enterprise.resource.webcontainer.jsf.lifecycle    &lt;INFO&gt;
jakarta.enterprise.resource.webcontainer.jsf.managedbean  &lt;INFO&gt;
jakarta.enterprise.resource.webcontainer.jsf.renderkit    &lt;INFO&gt;
jakarta.enterprise.resource.webcontainer.jsf.resource     &lt;INFO&gt;
jakarta.enterprise.resource.webcontainer.jsf.taglib       &lt;INFO&gt;
jakarta.enterprise.resource.webcontainer.jsf.timing       &lt;INFO&gt;
jakarta.enterprise.system.container.cmp         &lt;INFO&gt;
jakarta.enterprise.system.container.ejb         &lt;INFO&gt;
jakarta.enterprise.system.container.ejb.mdb     &lt;INFO&gt;
jakarta.enterprise.system.container.web         &lt;INFO&gt;
jakarta.enterprise.system.core.classloading     &lt;INFO&gt;
jakarta.enterprise.system.core.config   &lt;INFO&gt;
jakarta.enterprise.system.core.naming   &lt;INFO&gt;
jakarta.enterprise.system.core.security &lt;INFO&gt;
jakarta.enterprise.system.core.selfmanagement   &lt;INFO&gt;
jakarta.enterprise.system.core.transaction      &lt;INFO&gt;
jakarta.enterprise.system     &lt;INFO&gt;
jakarta.enterprise.system.tools.admin   &lt;INFO&gt;
jakarta.enterprise.system.tools.backup  &lt;INFO&gt;
jakarta.enterprise.system.tools.deployment      &lt;INFO&gt;
jakarta.enterprise.system.util          &lt;INFO&gt;
jakarta.enterprise.system.webservices.registry  &lt;INFO&gt;
jakarta.enterprise.system.webservices.rpc       &lt;INFO&gt;
jakarta.enterprise.system.webservices.saaj      &lt;INFO&gt;
javax     &lt;INFO&gt;
org.apache.catalina    &lt;INFO&gt;
org.apache.coyote      &lt;INFO&gt;
org.apache.jasper      &lt;INFO&gt;
org.jvnet.hk2.osgiadapter   &lt;INFO&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>For information about how to display logger namespaces and log levels,
see <a href="#gjirr">To List Log Levels</a>. For information about how to
display a list of loggers and logger details, see <a href="#CEGGICGF">To List
Loggers</a>.</p>
</div>
<div class="paragraph">
<p><a id="gkjft"></a><a id="GSADG00721"></a><a id="logging-targets"></a></p>
</div>
</div>
<div class="sect3">
<h4 id="_logging_targets">Logging Targets</h4>
<div class="paragraph">
<p>Each instance in an GlassFish Server Open Source Edition domain has a
dedicated log file, and each instance and cluster has its own logging
properties file. To configure logging for an instance or a cluster,
GlassFish Server Open Source Edition allows you target specific log
files or logging properties files when you do the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Set global or module-specific log levels</p>
</li>
<li>
<p>Rotate log files or compress them into a ZIP archive</p>
</li>
<li>
<p>Change logging property attributes</p>
</li>
<li>
<p>List log levels or log attributes</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following subcommands optionally accept a target specification. A
target can be a configuration name, server name, cluster name, or
instance name, and is specified as either an operand or as a value
passed using the <code>--target</code> option. If no target is specified when using
any of these subcommands, the default target is the DAS.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 27%;">
<col style="width: 47%;">
<col style="width: 26%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Subcommand</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Target Specification</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../reference-manual/collect-log-files.html#GSRFM00007"><code>collect-log-files</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Collects all available log files
into a ZIP archive.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--target`</code>=`target-name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../reference-manual/list-log-attributes.html#GSRFM00182"><code>list-log-attributes</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lists logging attributes in
the logging properties file.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">target-name operand</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../reference-manual/list-log-levels.html#GSRFM00183"><code>list-log-levels</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lists the loggers in the logging
properties file and their log levels.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">target-name operand</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../reference-manual/rotate-log.html#GSRFM00224"><code>rotate-log</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rotates the log file by renaming it and
creating a new log file to store new messages.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--target`</code>=`target-name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../reference-manual/set-log-attributes.html#GSRFM00227"><code>set-log-attributes</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets the specified logging
attributes in the logging properties file.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--target`</code>=`target-name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../reference-manual/set-log-file-format.html#GSRFM879"><code>set-log-file-format</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets the log file formatter.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--target`</code>=`target-name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="../reference-manual/set-log-levels.html#GSRFM00228"><code>set-log-levels</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets the log level for one or more
loggers listed in the logging properties file.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--target`</code>=`target-name</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="gkkit"></a><a id="GSADG00722"></a><a id="logging-properties"></a></p>
</div>
</div>
<div class="sect3">
<h4 id="_logging_properties">Logging Properties</h4>
<div class="paragraph">
<p>The DAS as well as each configuration, instance, and cluster has its own
set of logging properties that are maintained in individual
configuration files. A logging properties file is named
<code>logging.properies</code> and includes the following information:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Log file name and location</p>
</li>
<li>
<p>Logger names and levels</p>
</li>
<li>
<p>Properties for custom handlers</p>
</li>
<li>
<p>Log rotation and logger format properties</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>By default in an GlassFish Server Open Source Edition domain, logging
properties files are created in the following locations:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 18%;">
<col style="width: 82%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Target</th>
<th class="tableblock halign-left valign-top">Default Location of Logging Properties File</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DAS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">domain-dir`/config``/logging.properties`</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">A configuration</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">domain-dir`/config/<code>config-name</code>/logging.properties`,
where config-name represents the name of a configuration that is shared
by one or more instances or clusters.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">An instance</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">domain-dir`/config``/<code>instance-name</code>-config/logging.properties`, where
instance-name represents the name of the instance.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">A cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">domain-dir`/config/<code>cluster-name</code>-config/logging.properties`, where
cluster-name represents the name of the cluster.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For information about configuring logging properties, see
<a href="#gklmn">Configuring the Logging Service</a>.</p>
</div>
<div class="paragraph">
<p><a id="gklmn"></a><a id="GSADG00555"></a><a id="configuring-the-logging-service"></a></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configuring_the_logging_service">Configuring the Logging Service</h3>
<div class="paragraph">
<p>This section contains the following topics:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#gklmx">Changing the Name and Location of Logging Service Files</a></p>
</li>
<li>
<p><a href="#gklml">Setting Log Levels</a></p>
</li>
<li>
<p><a href="#CEGDJEBG">Setting the Log File Format</a></p>
</li>
<li>
<p><a href="#gklni">Setting Log File Rotation</a></p>
</li>
<li>
<p><a href="#gklnk">Adding a Custom Logging Handler</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="gklmx"></a><a id="GSADG00723"></a><a id="changing-the-name-and-location-of-logging-service-files"></a></p>
</div>
<div class="sect3">
<h4 id="_changing_the_name_and_location_of_logging_service_files">Changing the Name and Location of Logging Service Files</h4>
<div class="paragraph">
<p>This section explains how to change the name and location of the
following logging service files:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Log file</p>
</li>
<li>
<p>Logging properties file</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="gkmak"></a><a id="GSADG00375"></a><a id="to-change-the-name-and-location-of-the-log-file"></a></p>
</div>
<div class="sect4">
<h5 id="_to_change_the_name_and_location_of_the_log_file">To Change the Name and Location of the Log File</h5>
<div class="paragraph">
<p>To change the name and location of the log file, first use the
<code>list-log-attributes</code> subcommand to obtain the current log attribute
setting for the log file name and location. Then use the
<code>set-log-attributes</code> subcommand to specify the new name or location. The
default target for these two subcommands is the DAS. However, you can
optionally specify one of the following targets:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Configuration name — to target all instances or clusters that share a
specific configuration name.</p>
</li>
<li>
<p>Server name — to target only a specific server.</p>
</li>
<li>
<p>Instance name — to target only a specific instance.</p>
</li>
<li>
<p>Cluster name — to target only a specific cluster.</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Ensure that the target server or cluster is running.<br>
Remote subcommands require a running server.</p>
</li>
<li>
<p>Use the <a href="../reference-manual/list-log-attributes.html#GSRFM00182"><code>list-log-attributes</code></a> subcommand in remote
mode to obtain the current log attribute settings.<br>
The name and location of the log file is set with the
<code>com.sun.enterprise.server.logging.GFFileHandler.file</code> attribute of the
logging properties file. Optionally you can target a configuration,
server, instance, or cluster. If you do not specify a target, the log
attribute settings for the DAS are displayed.</p>
</li>
<li>
<p>Use the <a href="../reference-manual/set-log-attributes.html#GSRFM00227"><code>set-log-attributes</code></a> subcommand in remote
mode to define a custom name or location of the log file.<br>
If you do not specify a target, the log file for the DAS is targeted by
default. If you target a cluster, the name of the cluster log file for
each member instance can be changed (the server log file name cannot).</p>
</li>
</ol>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="GSADG00174"></a><a id="gkmal"></a></p>
</div>
<div class="paragraph">
<p>Example 7-1 Changing the Name and Location of a Cluster&#8217;s Log File</p>
</div>
<div class="paragraph">
<p>This example changes the name of the cluster log file for <code>Cluster1</code> to
<code>cluster1.log</code>. <code>Cluster1</code> has two server instances: <code>ClusterServer1</code>
and <code>ClusterServer2</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">asadmin&gt; list-log-attributes Cluster1
com.sun.enterprise.server.logging.GFFileHandler.alarms &lt;false&gt;
com.sun.enterprise.server.logging.GFFileHandler.file
&lt;${com.sun.aas.instanceRoot}/logs/server.log&gt;
com.sun.enterprise.server.logging.GFFileHandler.flushFrequency  <b class="conum">(1)</b>
.
.
.
log4j.logger.org.hibernate.validator.util.Version &lt;warn&gt;
Command list-log-attributes executed successfully.
asadmin&gt; set-log-attributes --target Cluster1
com.sun.enterprise.server.logging.GFFileHandler.file=
${com.sun.aas.instanceRoot}/logs/cluster1.log
com.sun.enterprise.server.logging.GFFileHandler.file
logging attribute set with value ${com.sun.aas.instanceRoot}/logs/cluster1.log
These logging attributes are set for Cluster1.
ClusterServer1 :
com.sun.enterprise.server.logging.GFFileHandler.file
logging attribute set with value ${com.sun.aas.instanceRoot}/logs/cluster1.log
These logging attributes are set for Cluster1.

ClusterServer2 :
com.sun.enterprise.server.logging.GFFileHandler.file
logging attribute set with value ${com.sun.aas.instanceRoot}/logs/cluster1.log
These logging attributes are set for Cluster1.

Command set-log-attributes executed successfully.</code></pre>
</div>
</div>
<div id="GSADG864" class="paragraph">
<p>See Also</p>
</div>
<div class="paragraph">
<p>You can view the full syntax and options of these subcommands by typing
<code>asadmin help list-log-levels</code> and <code>asadmin help set-log-attributes</code> at
the command line.</p>
</div>
<div class="paragraph">
<p><a id="gkmcz"></a><a id="GSADG00376"></a><a id="to-change-the-name-and-location-of-the-logging-properties-file"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_to_change_the_name_and_location_of_the_logging_properties_file">To Change the Name and Location of the Logging Properties File</h5>
<div class="paragraph">
<p>You can set the name and location of the logging properties file by
setting the <code>java.util.logging.config.file</code> system property. By setting
this system property, you can have a single logging properties file that
is used by all instances running on the same host.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Setting the <code>java.util.logging.config.file</code> system property causes all
other GlassFish Server Open Source Edition logging properties files on
the host to be overridden.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Set the <code>java.util.logging.config.file</code> system property.<br>
For example, you can use the following <code>java</code> command:<br></p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>java -Djava.util.logging.config.file=properties_file</pre>
</div>
</div>
<div class="paragraph">
<p>Alternatively, you can use the Administration Console to set this system
property.
2.  To apply your change, restart GlassFish Server Open Source Edition.</p>
</div>
<div class="paragraph">
<p><a id="GSADG00175"></a><a id="gkmgz"></a></p>
</div>
<div class="paragraph">
<p>Example 7-2 Setting the <code>java.util.logging.config.file</code> System Property</p>
</div>
<div class="paragraph">
<p>The following example changes the location of the logging properties
file to <code>/space/mylogging/logging.properties</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">java -Djava.util.logging.config.file=/space/mylogging/logging.properties</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gklml"></a><a id="GSADG00724"></a><a id="setting-log-levels"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_setting_log_levels">Setting Log Levels</h4>
<div class="paragraph">
<p>The log level determines the granularity of the message that is logged,
from error only (<code>EMERGENCY</code>) to detailed debug (<code>FINEST</code>). The
following values apply: <code>EMERGENCY</code>, <code>ALERT</code>, <code>SEVERE</code>, <code>WARNING</code>,
<code>INFO</code>, <code>CONFIG</code>, <code>FINE</code>, <code>FINER</code>, and <code>FINEST</code>. These log levels are
hierarchically inclusive, which means that if you set a particular log
level, such as INFO, the messages that have log levels above that level
(<code>EMERGENCY</code>, <code>ALERT</code>, <code>SEVERE</code>, and <code>WARNING</code>,) are also included. If
you set the log level to the lowest level, <code>FINEST</code>, your output
includes all the messages in the file. The default setting is <code>INFO</code>.</p>
</div>
<div class="paragraph">
<p>You can list current log levels of all loggers specified in the
<code>logging properties</code> file. In some cases, loggers that have not been
created by the respective containers will also appear in the list.</p>
</div>
<div class="paragraph">
<p>You can set log levels that are global or logger-specific. When you set
a global log level, the log level goes into effect for all loggers. If
you set the log level for a specific logger that is different from the
global log level, the logger-specific setting takes precedence. In
addition, when setting log levels, you can target a configuration,
server, instance, or cluster.</p>
</div>
<div class="paragraph">
<p>Because setting log levels is a dynamic operation, you do not need to
restart GlassFish Server Open Source Edition for changes to take effect.</p>
</div>
<div class="paragraph">
<p>Setting either global or logger-specific log levels is done by using the
<code>set-log-levels</code> subcommand. Listing log levels is done by using the
<code>list-log-levels</code> subcommand.</p>
</div>
<div class="paragraph">
<p>The following topics are addressed here:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#gjirr">To List Log Levels</a></p>
</li>
<li>
<p><a href="#ghmep">To Set the Global Log Level</a></p>
</li>
<li>
<p><a href="#ghmdu">To Set Module Log Levels</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="gjirr"></a><a id="GSADG00377"></a><a id="to-list-log-levels"></a></p>
</div>
<div class="sect4">
<h5 id="_to_list_log_levels">To List Log Levels</h5>
<div class="paragraph">
<p>GlassFish Server Open Source Edition provides the means to list all
loggers and their log levels. Listing the loggers provides a convenient
means to view current loggers and log levels either prior to or after
making log level changes.</p>
</div>
<div class="paragraph">
<p>Use the <code>list-log-levels</code> subcommand in remote mode to list the modules
and their current log levels. The default target for this subcommand is
the DAS. However, you can optionally specify one of the following
targets:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Configuration name — to target all instances or clusters that share a
specific configuration name.</p>
</li>
<li>
<p>Server name — to target a specific server.</p>
</li>
<li>
<p>Instance name — to target a specific instance.</p>
</li>
<li>
<p>Cluster name — to target a specific cluster.</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Ensure that the DAS is running.<br>
Remote subcommands require a running server.</p>
</li>
<li>
<p>List the existing module loggers and log levels by using the
<a href="../reference-manual/list-log-levels.html#GSRFM00183"><code>list-log-levels</code></a> subcommand.</p>
</li>
</ol>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="GSADG00176"></a><a id="gjiti"></a></p>
</div>
<div class="paragraph">
<p>Example 7-3 Listing Logger Levels for Modules</p>
</div>
<div class="paragraph">
<p>This example shows a partial list of the existing loggers and their log
levels in the DAS.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">asadmin&gt; list-log-levels
jakarta.enterprise.system.container.cmp &lt;INFO&gt;
jakarta.enterprise.system.tools.admin &lt;INFO&gt;
java.util.logging.ConsoleHandler &lt;FINEST&gt;
jakarta.enterprise.system.container.web &lt;INFO&gt;
jakarta.enterprise.system.util &lt;INFO&gt;
jakarta.enterprise.resource.webcontainer.jsf.timing &lt;INFO&gt;
javax &lt;INFO&gt;
jakarta.enterprise.resource.corba &lt;INFO&gt;
...
Command list-log-levels executed successfully.</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="GSADG00177"></a><a id="gkkot"></a></p>
</div>
<div class="paragraph">
<p>Example 7-4 Listing Log Levels for an Instance</p>
</div>
<div class="paragraph">
<p>This example shows a partial list of the loggers and log levels for the
instance <code>MyServer2</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">asadmin&gt; list-log-levels MyServer2
java.util.logging.ConsoleHandler &lt;FINEST&gt;
jakarta.enterprise.resource.corba  &lt;INFO&gt;
jakarta.enterprise.resource.javamail   &lt;INFO&gt;
jakarta.enterprise.resource.jdo &lt;INFO&gt;
jakarta.enterprise.resource.jms &lt;INFO&gt;
jakarta.enterprise.resource.jta &lt;INFO&gt;
jakarta.enterprise.resource.resourceadapter &lt;INFO&gt;
jakarta.enterprise.resource.sqltrace &lt;FINE&gt;
...
Command list-log-levels executed successfully.</code></pre>
</div>
</div>
<div id="GSADG865" class="paragraph">
<p>See Also</p>
</div>
<div class="paragraph">
<p>You can view the full syntax and options of the subcommand by typing
<code>asadmin help list-log-levels</code> at the command line.</p>
</div>
<div class="paragraph">
<p><a id="ghmep"></a><a id="GSADG00378"></a><a id="to-set-the-global-log-level"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_to_set_the_global_log_level">To Set the Global Log Level</h5>
<div class="paragraph">
<p>The global log level specifies the events that are logged across all
loggers. The default level for messages output to the console is <code>INFO</code>
(which also includes <code>EMERGENCY</code>, <code>ALERT</code>, <code>SEVERE</code>, and <code>WARNING</code>
messages).</p>
</div>
<div class="paragraph">
<p>Use the <code>set-log-levels</code> subcommand in remote mode to set the global log
level. The default target for this subcommand is the DAS. However, you
can optionally specify one of the following targets using the <code>--target</code>
option:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Configuration name — to target all instances or clusters that share a
specific configuration name.</p>
</li>
<li>
<p>Server name — to target a specific server.</p>
</li>
<li>
<p>Instance name — to target a specific instance.</p>
</li>
<li>
<p>Cluster name — to target a specific cluster.</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Ensure that the target server or cluster is running.</p>
</li>
<li>
<p>Set the global log level by using the
<a href="../reference-manual/set-log-levels.html#GSRFM00228"><code>set-log-levels</code></a> subcommand, specifying the log level
of the <code>java.util.logging.ConsoleHandler</code> logger.<br>
The <code>ConsoleHandler</code> has a separate log level setting that limits the
messages that are displayed. For example:<br></p>
</li>
</ol>
</div>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>java.util.logging.ConsoleHandler &lt;FINEST&gt;</pre>
</div>
</div>
<div class="paragraph">
<p><a id="GSADG00178"></a><a id="ghmfi"></a></p>
</div>
<div class="paragraph">
<p>Example 7-5 Changing the Global Log Level for All Module Loggers</p>
</div>
<div class="paragraph">
<p>By setting the log level of the <code>ConsoleHandler</code>, you set the global log
level for all loggers. This example sets the global log level in the DAS
to <code>INFO</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">asadmin&gt; set-log-levels java.util.logging.ConsoleHandler=INFO
java.util.logging.ConsoleHandler package set with log level INFO.
These logging levels are set for server.

Command set-log-levels executed successfully.</code></pre>
</div>
</div>
<div id="GSADG866" class="paragraph">
<p>See Also</p>
</div>
<div class="paragraph">
<p>You can view the full syntax and options of the subcommand by typing
<code>asadmin help set-log-levels</code> at the command line.</p>
</div>
<div class="paragraph">
<p><a id="ghmdu"></a><a id="GSADG00379"></a><a id="to-set-module-log-levels"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_to_set_module_log_levels">To Set Module Log Levels</h5>
<div class="paragraph">
<p>A module log level specifies the events that are logged for a particular
logger. The default level for messages output to the console is <code>INFO</code>
(which also includes <code>EMERGENCY</code>, <code>ALERT</code>, <code>SEVERE</code>, and <code>WARNING</code>
messages). The global log level is overridden by a module-specific log
level.</p>
</div>
<div class="paragraph">
<p>By default, the module log level is set to <code>FINE</code>. The lines for the
loggers in the logging properties file might look like this (the modules
are indicated in bold):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">jakarta.enterprise.system.tools.level=FINE
jakarta.enterprise.system.container.ejb.level=FINE
jakarta.enterprise.system.core.security.level=FINE
jakarta.enterprise.system.tools.admin.level=FINE
jakarta.enterprise.level=FINE
jakarta.enterprise.system.container.web.level=FINE</code></pre>
</div>
</div>
<div class="paragraph">
<p>Because setting log levels is a dynamic operation, you do not need to
restart GlassFish Server Open Source Edition for changes to take effect.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Ensure that the target server or cluster is running.<br>
Remote subcommands require a running server.</p>
</li>
<li>
<p>List the existing module loggers and their log levels by using the
<a href="../reference-manual/list-log-levels.html#GSRFM00183"><code>list-log-levels</code></a> subcommand.</p>
</li>
<li>
<p>Set the log level for a module by using the
<a href="../reference-manual/set-log-levels.html#GSRFM00228"><code>set-log-levels</code></a> subcommand.<br>
Your choices are <code>EMERGENCY</code>, <code>ALERT</code>, <code>SEVERE</code>, <code>WARNING</code>, <code>INFO</code>,
<code>CONFIG</code>, <code>FINE</code>, <code>FINER</code>, and <code>FINEST</code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><a id="GSADG00179"></a><a id="ghmev"></a></p>
</div>
<div class="paragraph">
<p>Example 7-6 Setting the Log Level for a Module Logger</p>
</div>
<div class="paragraph">
<p>This example sets the log level for the web container logger to WARNING
on the target instance <code>ManagedServer1</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">asadmin&gt; set-log-levels --target ManagedServer1
jakarta.enterprise.system.container.web=WARNING
jakarta.enterprise.system.container.web package set with log level WARNING.
These logging levels are set for ManagedServer1.
ManagedServer1 :
jakarta.enterprise.system.container.web package set with log level WARNING.
These logging levels are set for ManagedServer1.

Command set-log-levels executed successfully.</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="GSADG00180"></a><a id="gjkat"></a></p>
</div>
<div class="paragraph">
<p>Example 7-7 Setting Log Levels for Multiple Loggers</p>
</div>
<div class="paragraph">
<p>The following example sets the log level for security and web container
loggers in the DAS.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">asadmin&gt; set-log-levels jakarta.enterprise.system.core.security=FINE:
jakarta.enterprise.system.container.web=WARNING
jakarta.enterprise.system.container.web package set with log level WARNING.
jakarta.enterprise.system.core.security package set with log level FINE.
These logging levels are set for server.

Command set-log-levels executed successfully.</code></pre>
</div>
</div>
<div id="GSADG867" class="paragraph">
<p>See Also</p>
</div>
<div class="paragraph">
<p>You can view the full syntax and options of the subcommand by typing
<code>asadmin help set-log-levels</code> at the command line.</p>
</div>
<div class="paragraph">
<p><a id="CEGDJEBG"></a><a id="GSADG1062"></a><a id="setting-the-log-file-format"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_setting_the_log_file_format">Setting the Log File Format</h4>
<div class="paragraph">
<p>You can set the format for log records in log files. The following
topics are addressed here:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#CEGFFJDG">To Set the Log File Format</a></p>
</li>
<li>
<p><a href="#CEGGBJCC">To Exclude Fields in Log Records</a></p>
</li>
<li>
<p><a href="#CEGBBEAH">To Set Multiline Mode</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="CEGFFJDG"></a><a id="GSADG1063"></a><a id="to-set-the-log-file-format"></a></p>
</div>
<div class="sect4">
<h5 id="_to_set_the_log_file_format">To Set the Log File Format</h5>
<div class="paragraph">
<p>Use the <code>set-log-file-format</code> subcommand in remote mode to set the
formatter used by GlassFish Server Open Source Edition to format log
records in log files. You can also use the <code>set-log-attributes</code>
subcommand. Log formats for all server instances in a cluster will be
the same. For information about log formats, see <a href="#gkmex">Log
Records</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Changing the log format forces log rotation to avoid mixed format in the
same file.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Ensure that the target server or cluster is running.<br>
Remote commands require a running server.</p>
</li>
<li>
<p>Set the formatter by using the
<a href="../reference-manual/redeploy.html#GSRFM00217"><code>set-log-file-format</code></a> subcommand.</p>
</li>
<li>
<p>To apply your change, restart GlassFish Server Open Source Edition.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><a id="GSADG1064"></a><a id="sthref23"></a></p>
</div>
<div class="paragraph">
<p>Example 7-8 Setting the Log File Format using <code>set-log-file-format</code></p>
</div>
<div class="paragraph">
<p>This example sets the log file format to <code>ULF</code> for standalone instance
<code>ManagedServer1</code> using the <code>set-log-file-format</code> subcommand.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">asadmin&gt; set-log-file-format --target ManagedServer1 ulf
The log file formatter is set to com.sun.enterprise.server.logging.UniformLogFormatter for instance ManagedServer1.
Command set-log-file-format executed successfully.</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="GSADG1065"></a><a id="sthref24"></a></p>
</div>
<div class="paragraph">
<p>Example 7-9 Setting the Log File Format using <code>set-log-attributes</code></p>
</div>
<div class="paragraph">
<p>This example sets the log file format to <code>ULF</code> for standalone instance
<code>ManagedServer1</code> using the <code>set-log-attributes</code> subcommand.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">asadmin&gt; set-log-attributes --target ManagedServer1 com.sun.enterprise.server.logging.GFFileHandler.formatter=ulf
com.sun.enterprise.server.logging.GFFileHandler.formatter logging attribute value set to ulf.
The logging attributes are saved successfully for ManagedServer1-config.
Command set-log-attributes executed successfully.</code></pre>
</div>
</div>
<div id="GSADG1066" class="paragraph">
<p>See Also</p>
</div>
<div class="paragraph">
<p>You can view the full syntax and options of the <code>set-log-file-format</code>
subcommand by typing <code>asadmin help set-log-file-format</code> at the command
line. You can view the full syntax and options of the
<code>set-log-attributes</code> subcommand by typing
<code>asadmin help set-log-attributes</code> at the command line.</p>
</div>
<div class="paragraph">
<p><a id="CEGGBJCC"></a><a id="GSADG1067"></a><a id="to-exclude-fields-in-log-records"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_to_exclude_fields_in_log_records">To Exclude Fields in Log Records</h5>
<div class="paragraph">
<p>Use the <code>set-log-attributes</code> subcommand in remote mode to exclude
specific name-value fields from log records. If the <code>excludeFields</code>
attribute is not specified, all name-value fields are included. The
following fields can be excluded:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>tid</code></p>
</li>
<li>
<p><code>userId</code></p>
</li>
<li>
<p><code>ecid</code></p>
</li>
<li>
<p><code>timeMillis</code></p>
</li>
<li>
<p><code>levelVal</code></p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Ensure that the target server or cluster is running.<br>
Remote commands require a running server.</p>
</li>
<li>
<p>Exclude fields by using the <a href="../reference-manual/set-log-attributes.html#GSRFM00227"><code>set-log-attributes</code></a>
subcommand, specifying the following attribute and the fields to
exclude:<br></p>
</li>
</ol>
</div>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>com.sun.enterprise.server.logging.GFFileHandler.excludeFields=fields</pre>
</div>
</div>
<div class="paragraph">
<p>where <code>fields</code> is a comma-separated list of the name-value fields to
exclude from the log file.
3.  To apply your change, restart GlassFish Server Open Source Edition.</p>
</div>
<div class="paragraph">
<p><a id="GSADG1068"></a><a id="sthref25"></a></p>
</div>
<div class="paragraph">
<p>Example 7-10 Excluding Fields in Log Records</p>
</div>
<div class="paragraph">
<p>This example excludes the <code>userId</code> and <code>levelVal</code> name-value fields in
log records for standalone instance <code>ManagedServer1</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">asadmin&gt; set-log-attributes --target ManagedServer1
com.sun.enterprise.server.logging.GFFileHandler.excludeFields=userId,levelVal
com.sun.enterprise.server.logging.GFFileHandler.excludeFields logging attribute value set to userId,levelVal.
The logging attributes are saved successfully for ManagedServer1-config.

Command set-log-attributes executed successfully.</code></pre>
</div>
</div>
<div id="GSADG1069" class="paragraph">
<p>See Also</p>
</div>
<div class="paragraph">
<p>You can view the full syntax and options of the subcommand by typing
<code>asadmin help set-log-attributes</code> at the command line.</p>
</div>
<div class="paragraph">
<p><a id="CEGBBEAH"></a><a id="GSADG1070"></a><a id="to-set-multiline-mode"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_to_set_multiline_mode">To Set Multiline Mode</h5>
<div class="paragraph">
<p>Use the <code>set-log-attributes</code> command in remote mode to set multiline
mode. When multiline mode is enabled (the default), the body of a log
message starts on a new line after the message header and is indented.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Ensure that the target server or cluster is running.<br>
Remote commands require a running server.</p>
</li>
<li>
<p>Set multiline mode by using the
<a href="../reference-manual/set-log-attributes.html#GSRFM00227"><code>set-log-attributes</code></a> subcommand, specifying the
following attribute and its value (<code>true</code> or <code>false</code>):<br></p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>com.sun.enterprise.server.logging.GFFileHandler.multiLineMode=value</pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>To apply your change, restart GlassFish Server Open Source Edition.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><a id="GSADG1071"></a><a id="sthref26"></a></p>
</div>
<div class="paragraph">
<p>Example 7-11 Setting Multiline Mode</p>
</div>
<div class="paragraph">
<p>Multiline mode is enabled by default. The following example disables
multiline mode in log files for standalone instance <code>ManagedServer1</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">asadmin&gt; set-log-attributes --target ManagedServer1
com.sun.enterprise.server.logging.GFFileHandler.multiLineMode=false
com.sun.enterprise.server.logging.GFFileHandler.multiLineMode logging attribute value set to false.
The logging attributes are saved successfully for ManagedServer1-config.

Command set-log-attributes executed successfully.</code></pre>
</div>
</div>
<div id="GSADG1072" class="paragraph">
<p>See Also</p>
</div>
<div class="paragraph">
<p>You can view the full syntax and options of the subcommand by typing
<code>asadmin help set-log-attributes</code> at the command line.</p>
</div>
<div class="paragraph">
<p><a id="gklni"></a><a id="GSADG00725"></a><a id="setting-log-file-rotation"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_setting_log_file_rotation">Setting Log File Rotation</h4>
<div class="paragraph">
<p>As explained in <a href="#ablul">Log Files</a>, GlassFish Server Open Source
Edition by default rotates log files when they reach 2 MB in size.
However, you can change the default rotation settings. For example, you
can change the file size at which the server rotates the log file or you
can configure a server to rotate log files based on a time interval. In
addition to changing when rotation occurs, you can also:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Specify the maximum number of rotated files that can accumulate.<br>
By default, GlassFish Server Open Source Edition does not limit the
number of rotated log files that are retained. However, you can set a
limit. After the number of log files reaches this limit, subsequent file
rotations delete the oldest rotated log file.</p>
</li>
<li>
<p>Rotate the log file manually.<br>
A manual rotation forces the immediate rotation of the target log file.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Changing the default log rotation settings is done using the
<code>set-log-attributes</code> subcommand, and rotating log files manually is done
using the <code>rotate-log</code> subcommand, as explained in the following
sections:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#gkmbh">To Change the Rotation File Size</a></p>
</li>
<li>
<p><a href="#gkman">To Change the File Rotation Interval</a></p>
</li>
<li>
<p><a href="#gkmai">To Change the Limit Number of Retained Files</a></p>
</li>
<li>
<p><a href="#gkmau">To Rotate Log Files Manually</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="gkmbh"></a><a id="GSADG00380"></a><a id="to-change-the-rotation-file-size"></a></p>
</div>
<div class="sect4">
<h5 id="_to_change_the_rotation_file_size">To Change the Rotation File Size</h5>
<div class="paragraph">
<p>Use the <code>set-log-attributes</code> subcommand in remote mode to change the log
rotation file size. The default target of this subcommand is the DAS.
Optionally, you can target a configuration, server, instance, or
cluster. The minimum size that can be set is 500 KB.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Ensure that the target server or cluster is running.</p>
</li>
<li>
<p>Change the rotation file size limit by using the
<a href="../reference-manual/set-log-attributes.html#GSRFM00227"><code>set-log-attributes</code></a> subcommand, specifying the
following attribute and the desired limit in bytes:<br></p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>com.sun.enterprise.server.logging.GFFileHandler.rotationLimitInBytes=bytes</pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>To apply your change, restart GlassFish Server Open Source Edition.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><a id="GSADG00181"></a><a id="gkmay"></a></p>
</div>
<div class="paragraph">
<p>Example 7-12 Changing the Rotation Size</p>
</div>
<div class="paragraph">
<p>The following example sets the log file rotation size to 1 MB for the
standalone instance <code>ManagedServer1</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">asadmin&gt; set-log-attributes --target ManagedServer1
com.sun.enterprise.server.logging.GFFileHandler.rotationLimitInBytes=1000000
com.sun.enterprise.server.logging.GFFileHandler.rotationLimitInBytes
logging attribute set with value 1000000.
These logging attributes are set for ManagedServer1.
ManagedServer1 :
com.sun.enterprise.server.logging.GFFileHandler.rotationLimitInBytes
logging attribute set with value 1000000.
These logging attributes are set for ManagedServer1.

Command set-log-attributes executed successfully.</code></pre>
</div>
</div>
<div id="GSADG868" class="paragraph">
<p>See Also</p>
</div>
<div class="paragraph">
<p>You can view the full syntax and options of the subcommand by typing
<code>asadmin help set-log-attributes</code> at the command line.</p>
</div>
<div class="paragraph">
<p><a id="gkman"></a><a id="GSADG00381"></a><a id="to-change-the-file-rotation-interval"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_to_change_the_file_rotation_interval">To Change the File Rotation Interval</h5>
<div class="paragraph">
<p>Use the <code>set-log-attributes</code> subcommand in remote mode to change the log
file rotation time limit interval. The default target of this subcommand
is the DAS. Optionally, you can target a configuration, server,
instance, or cluster. The default value is <code>0</code>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Ensure that the target server or cluster is running.</p>
</li>
<li>
<p>Change the rotation time limit by using the
<a href="../reference-manual/set-log-attributes.html#GSRFM00227"><code>set-log-attributes</code></a> subcommand, specifying the
following attribute and the desired limit in minutes:<br></p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>com.sun.enterprise.server.logging.GFFileHandler.rotationTimelimitInMinutes=minutes</pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>To apply your change, restart GlassFish Server Open Source Edition.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><a id="GSADG00182"></a><a id="gkmbc"></a></p>
</div>
<div class="paragraph">
<p>Example 7-13 Changing the Rotation Interval</p>
</div>
<div class="paragraph">
<p>The following example sets the log file rotation time limit for the
cluster <code>Cluster1</code>, which has the instances <code>ClusterServer1</code> and
<code>ClusterServer2</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">asadmin&gt; set-log-attributes --target Cluster1
com.sun.enterprise.server.logging.GFFileHandler.rotationTimelimitInMinutes=10
com.sun.enterprise.server.logging.GFFileHandler.rotationTimelimitInMinutes
logging attribute set with value 10.
These logging attributes are set for Cluster1.
ClusterServer1 :
com.sun.enterprise.server.logging.GFFileHandler.rotationTimelimitInMinutes
logging attribute set with value 10.
These logging attributes are set for Cluster1.

ClusterServer2 :
com.sun.enterprise.server.logging.GFFileHandler.rotationTimelimitInMinutes
logging attribute set with value 10.
These logging attributes are set for Cluster1.

Command set-log-attributes executed successfully.</code></pre>
</div>
</div>
<div id="GSADG869" class="paragraph">
<p>See Also</p>
</div>
<div class="paragraph">
<p>You can view the full syntax and options of the subcommand by typing
<code>asadmin help set-log-attributes</code> at the command line.</p>
</div>
<div class="paragraph">
<p><a id="gkmai"></a><a id="GSADG00382"></a><a id="to-change-the-limit-number-of-retained-files"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_to_change_the_limit_number_of_retained_files">To Change the Limit Number of Retained Files</h5>
<div class="paragraph">
<p>Use the <code>set-log-attributes</code> subcommand in remote mode to change the
limit on the number of log files that the server creates to store old
log messages. The default target of this subcommand is the DAS.
Optionally, you can target a configuration, server, instance, or
cluster. The default limit value is <code>0</code>, which results in no limit
placed on the number of rotated log files that are retained.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Ensure that the target server or cluster is running.</p>
</li>
<li>
<p>Change the limit number of retained log files by using the
<a href="../reference-manual/set-log-attributes.html#GSRFM00227"><code>set-log-attributes</code></a> subcommand, specifying the
following attribute and the desired file limit number:<br></p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>com.sun.enterprise.server.logging.GFFileHandler.maxHistoryFiles=minutes</pre>
</div>
</div>
<div class="paragraph">
<p>The behavior of the
<code>com.sun.enterprise.server.logging.GFFileHandler.maxHistoryFiles</code>
attribute is as follows:
* If the property is not set, GlassFish Server Open Source Edition keeps
a maximum of 10 rotated log files.
* If the property is set to an invalid number or null, GlassFish Server
Open Source Edition keeps a maximum of 10 rotated log files.
* If the property is set to 0, GlassFish Server Open Source Edition
retains all rotated log files (that is, sets no maximum).
3.  To apply your change, restart GlassFish Server Open Source Edition.</p>
</div>
<div class="paragraph">
<p><a id="GSADG00183"></a><a id="gkmaq"></a></p>
</div>
<div class="paragraph">
<p>Example 7-14 Changing the Limit Number of Retained Files</p>
</div>
<div class="paragraph">
<p>The following example sets the log limit number of retained log files
for the DAS to <code>10</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">asadmin&gt; set-log-attributes
com.sun.enterprise.server.logging.GFFileHandler.maxHistoryFiles=10
com.sun.enterprise.server.logging.GFFileHandler.maxHistoryFiles
logging attribute set with value 10.
These logging attributes are set for server.
Command set-log-attributes executed successfully.</code></pre>
</div>
</div>
<div id="GSADG870" class="paragraph">
<p>See Also</p>
</div>
<div class="paragraph">
<p>You can view the full syntax and options of the subcommand by typing
<code>asadmin help set-log-attributes</code> at the command line.</p>
</div>
<div class="paragraph">
<p><a id="gkmau"></a><a id="GSADG00383"></a><a id="to-rotate-log-files-manually"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_to_rotate_log_files_manually">To Rotate Log Files Manually</h5>
<div class="paragraph">
<p>You can rotate log files manually by using the <code>rotate-log</code> subcommand
in remote mode. The default target of this subcommand is the DAS.
Optionally, you can target a configuration, server, instance, or
cluster. When you use this subcommand, the target log file is
immediately moved to a new time-stamped file and a new log file is
created.</p>
</div>
<div class="paragraph">
<p>Because log rotation is a dynamic operation, you do not need to restart
GlassFish Server Open Source Edition for changes to take effect.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Ensure that the target server or cluster is running.</p>
</li>
<li>
<p>Rotate log files by using the <a href="../reference-manual/rotate-log.html#GSRFM00224"><code>rotate-log</code></a>
subcommand.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><a id="GSADG00184"></a><a id="gkmav"></a></p>
</div>
<div class="paragraph">
<p>Example 7-15 Rotating Log Files Manually</p>
</div>
<div class="paragraph">
<p>The following example rotates the <code>server.log</code> file for <code>ManagedServer2</code>
to <code>server.log_`yyyy-mm-dd`T`hh-mm-ss, where yyyy-mm-dd`T`hh-mm-ss
represents the time when the file is rotated, and creates a new
`server.log</code> file in the default location.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">asadmin&gt; rotate-log --target ManagedServer2
Command rotate-log executed successfully.</code></pre>
</div>
</div>
<div id="GSADG871" class="paragraph">
<p>See Also</p>
</div>
<div class="paragraph">
<p>You can view the full syntax and options of the subcommand by typing
<code>asadmin help rotate-log</code> at the command line.</p>
</div>
<div class="paragraph">
<p><a id="gklnk"></a><a id="GSADG00726"></a><a id="adding-a-custom-logging-handler"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_adding_a_custom_logging_handler">Adding a Custom Logging Handler</h4>
<div class="paragraph">
<p>By default, GlassFish Server Open Source Edition log records are
captured in a server log file using the format described in
<a href="#gkmex">Log Records</a>. However, you may find that you want to log
messages to a different location, such as a database or a remote server,
or log messages from specific loggers to your own file. This can be done
by implementing a custom log handler. This section explains how to add a
custom log handler to the GlassFish Server Open Source Edition logging
service.</p>
</div>
<div class="paragraph">
<p><a id="ghmen"></a><a id="GSADG00384"></a><a id="to-add-a-custom-log-handler"></a></p>
</div>
<div class="sect4">
<h5 id="_to_add_a_custom_log_handler">To Add a Custom Log Handler</h5>
<div class="paragraph">
<p>A comma-separated list of log handlers is installed during startup of
the Java Virtual Machine (JVM) host. The default log handler that is
provided in the <code>logging.properties</code> file, <code>ConsoleHandler</code>, is
configured as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">handlers=java.util.logging.ConsoleHandler</code></pre>
</div>
</div>
<div class="paragraph">
<p>In GlassFish Server Open Source Edition, the best approach to developing
a custom handler is to define a Hundred-Kilobyte Kernel (HK2) component
that implements the handler contract. GlassFish Server Open Source
Edition registers this handler automatically because it is an HK2
component. There is no task required of the administrator.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>The custom handler class should be packaged in an OSGi module and the
JAR file placed in the as-install`/modules` directory.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To configure a custom handler that is not developed as an HK2 component,
add the new handler to the <code>logging.properties</code> file after the developer
has put the custom handler JAR file into the domain-dir`/lib/ext`
directory.</p>
</div>
<div id="GSADG872" class="paragraph">
<p>Before You Begin</p>
</div>
<div class="paragraph">
<p>If you set a handler by setting the handlers attribute in the logging
properties file, the class that extends <code>java.util.logging.Handler</code> must
be in the server classpath.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Ensure that the target server or cluster is running.<br>
Remote subcommands require a running server.</p>
</li>
<li>
<p>Use the <a href="../reference-manual/set-log-attributes.html#GSRFM00227"><code>set-log-attributes</code></a> subcommand to add the
handler to the <code>handlers</code> attribute.<br>
The default target of this subcommand is the DAS. Optionally you can
target a configuration, server, instance, or cluster.</p>
</li>
<li>
<p>To apply your changes, restart GlassFish Server Open Source Edition.<br>
See <a href="domains.html#ginqj">To Restart a Domain</a>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><a id="GSADG00185"></a><a id="ghphb"></a></p>
</div>
<div class="paragraph">
<p>Example 7-16 Adding a New Log Handler</p>
</div>
<div class="paragraph">
<p>This example adds the custom logger <code>com.example.logging.MyHandler</code> to
the logging properties file of the DAS.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">asadmin&gt; set-log-attributes
handlers=java.util.logging.ConsoleHandler,com.example.logging.MyHandler
handlers logging attribute set with value
java.util.logging.ConsoleHandler,com.example.logging.MyHandler.
These logging attributes are set for server.
Command set-log-attributes executed successfully.</code></pre>
</div>
</div>
<div id="GSADG873" class="paragraph">
<p>See Also</p>
</div>
<div class="paragraph">
<p>You can view the full syntax and options of the subcommand by typing
<code>asadmin help set-log-attributes</code> at the command line.</p>
</div>
<div class="paragraph">
<p><a id="gkobx"></a><a id="GSADG00556"></a><a id="viewing-log-records"></a></p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_viewing_log_records">Viewing Log Records</h3>
<div class="paragraph">
<p>The recommended means for general viewing of logging information is to
use the Log Viewer in the Administration Console. The Log Viewer
simplifies reading, searching, and filtering log file contents. For
instructions, see the Administration Console online help.</p>
</div>
<div class="paragraph">
<p>GlassFish Server Open Source Edition also allows you to collect log
files into a ZIP archive, which provides the means to obtain and view
log files for an instance or cluster even when it is not currently
running. The following section explains how to collect all available log
files for an instance or cluster and compile them into a single ZIP
archive, which is done by using the <code>collect-log-files</code> subcommand.</p>
</div>
<div class="paragraph">
<p><a id="gklbi"></a><a id="GSADG00385"></a><a id="to-collect-log-files-into-a-zip-archive"></a></p>
</div>
<div class="sect3">
<h4 id="_to_collect_log_files_into_a_zip_archive">To Collect Log Files into a ZIP Archive</h4>
<div class="paragraph">
<p>Use the <code>collect-log-files</code> subcommand in remote mode to collect log
files into a ZIP archive. The default target of this subcommand is the
DAS. Optionally you can target a configuration, server, instance, or
cluster.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Ensure that the target server or cluster is running.<br>
Remote subcommands require a running server.</p>
</li>
<li>
<p>Use the <a href="../reference-manual/collect-log-files.html#GSRFM00007"><code>collect-log-files</code></a> subcommand to create
the ZIP archive.<br>
The default location in which the ZIP archive is created is the
domain-dir`/collected-logs` directory. The <code>collect-log-files</code>
subcommand allows you to specify a nondefault directory in which the ZIP
archive is to be created by using the <code>--retrieve</code> option set to <code>true</code>,
followed by the directory name.<br>
The name of the ZIP file contains the timestamp, as follows:<br>
<code>log_`yyyy-mm-dd_hh-min-sec</code>.zip`</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><a id="GSADG00186"></a><a id="gklap"></a></p>
</div>
<div class="paragraph">
<p>Example 7-17 Creating a ZIP Archive</p>
</div>
<div class="paragraph">
<p>This example shows collecting the log files for the cluster <code>MyCluster</code>
and compiling them into a ZIP archive in the <code>/space/output</code> directory.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">asadmin&gt; collect-log-files --target MyCluster
--retrieve true /space/output
Log files are downloaded for ClusterServer1.
Log files are downloaded for ClusterServer2.
 Created Zip file under /space/output/log_2011-02-10_13-35-25.zip.
Command collect-log-files executed successfully.</code></pre>
</div>
</div>
<div class="paragraph">
<p>When the ZIP file created by the preceding command is uncompressed, the
following directory structure is created:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">as-install-parent/
       glassfish/
            domains/
                domain-dir/
                       collected_logs/
                                    logs/
                                       ClusterServer1/
                                                    server.log
                                       ClusterServer2/
                                                    server.log</code></pre>
</div>
</div>
<div id="GSADG874" class="paragraph">
<p>See Also</p>
</div>
<div class="paragraph">
<p>You can view the full syntax and options of the subcommand by typing
<code>asadmin help collect-log-files</code> at the command line.</p>
</div>
<div class="paragraph">
<p><a id="CEGGHGIJ"></a><a id="GSADG1073"></a><a id="listing-loggers"></a></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_listing_loggers">Listing Loggers</h3>
<div class="paragraph">
<p>You can list and view information about all public loggers in your
distribution of GlassFish Server Open Source Edition.</p>
</div>
<div class="paragraph">
<p><a id="CEGGICGF"></a><a id="GSADG1074"></a><a id="to-list-loggers"></a></p>
</div>
<div class="sect3">
<h4 id="_to_list_loggers">To List Loggers</h4>
<div class="paragraph">
<p>Use the <code>list-loggers</code> subcommand in remote mode to list the logger
name, subsystem, and description of loggers in your distribution of
GlassFish Server Open Source Edition. Internal loggers are not listed.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Ensure that the target server or cluster is running.<br>
Remote commands require a running server.</p>
</li>
<li>
<p>List loggers by using the <a href="../reference-manual/redeploy.html#GSRFM00217"><code>list-loggers</code></a>
subcommand.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><a id="GSADG1075"></a><a id="sthref27"></a></p>
</div>
<div class="paragraph">
<p>Example 7-18 Listing Loggers</p>
</div>
<div class="paragraph">
<p>This example lists the logger name, subsystem, and description for each
logger. Some lines of output are omitted from this example for
readability.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">asadmin&gt; list-loggers
Logger Name                            Subsystem         Logger Description
...
jakarta.enterprise.monitoring            Monitoring        Monitoring Logger
jakarta.enterprise.system.core.ee        AS-CORE           Java EE Core Kernel
jakarta.enterprise.system.jmx            JMX               JMX System Logger
jakarta.enterprise.system.tools.admin    ADMIN             Administration Services
...
Command list-loggers executed successfully.</code></pre>
</div>
</div>
<div id="GSADG1076" class="paragraph">
<p>See Also</p>
</div>
<div class="paragraph">
<p>You can also view the full syntax and options of the subcommand by
typing <code>asadmin help list-loggers</code> at the command line.</p>
</div>
</div>
</div>
</div>
</div>

<hr />

<table width="90%" id="bottom-nav" cellspacing="0" cellpadding="0">
	<colgroup>
		<col width="12%"/>
		<col width="12%"/>
		<col width="*"/>
	</colgroup>
	<tr>		
		<td align="left">
		<a href="webapps.html">
			<span class=" vector-font"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i></span>
			<span style="position:relative;top:-2px;">Previous</span>
		</a>
		</td>

		<td align="left">
		<a href="monitoring.html">
			<span class="vector-font"><i class="fa fa-arrow-circle-right vector-font" aria-hidden="true"></i></span>
			<span style="position:relative;top:-2px;">Next</span>
		</a>
		</td>

		<td align="right">
		<a href="toc.html">
			<span class="vector-font"><i class="fa fa-list vector-font" aria-hidden="true"></i></span>
			<span style="position:relative;top:-2px;">Contents</span>
		</a>
		</td>
	</tr>
</table>

<span id="copyright">
        <img src="img/eclipse_foundation_logo_tiny.png" height="20px" alt="Eclipse Foundation Logo" align="top"/>&nbsp;            
        <span >Copyright&nbsp;&copy;&nbsp;2019,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.</span>
</span>

<p align="center" class="beta">DRAFT</p>

</body>
</html>