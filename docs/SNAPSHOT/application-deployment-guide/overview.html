
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Overview of GlassFish Server Open Source Edition 5.0 Application Deployment</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="css/style.css" rel="stylesheet">
    <script src="https://use.fontawesome.com/96c4d89611.js"></script>
  </head>
  <body>
<table id="doc-title" cellspacing="0" cellpadding="0">
  <tr>
  <td align="left" valign="top">
  <b>Overview of GlassFish Server Open Source Edition 5.0 Application Deployment</b><br />
      <p class="beta">DRAFT</p>
  </td>
  </tr>
</table>
<hr />

<table width="90%" id="top-nav" cellspacing="0" cellpadding="0">
	<colgroup>
		<col width="12%"/>
		<col width="12%"/>
		<col width="*"/>
	</colgroup>
	<tr>
		<td align="left">
		<a href="preface.html">
			<span class="vector-font"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i></span>
			<span style="position:relative;top:-2px;">Previous</span>
		</a>
		</td>

		<td align="left">
		<a href="deploying-applications.html">
			<span class=" vector-font"><i class="fa fa-arrow-circle-right vector-font" aria-hidden="true"></i></span>
			<span style="position:relative;top:-2px;">Next</span>
		</a>
		</td>

		<td align="right">
		<a href="toc.html">
			<span class=" vector-font"><i class="fa fa-list vector-font" aria-hidden="true"></i></span>
			<span style="position:relative;top:-2px;">Contents</span>
		</a>
		</td>
	</tr>
</table>


<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><a id="GSDPG00003"></a><a id="gihxo"></a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="overview-of-glassfish-server-open-source-edition-5.0-application-deployment">1 Overview of GlassFish Server Open Source Edition 5.0 Application Deployment</h2>
<div class="sectionbody">
<div class="paragraph">
<p>GlassFish Server Open Source Edition 5.0 provides an environment for
developing and deploying Java applications and web services. GlassFish
Server applications include Java Platform, Enterprise Edition (Java EE
platform) standard features as well as features specific to GlassFish
Server. This guide explains the tools and processes used for deploying
applications and modules in the GlassFish Server environment. Only
GlassFish Server features are described in detail in this document.</p>
</div>
<div class="paragraph">
<p>The following topics are addressed here:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#gihzx">About Application Deployment</a></p>
</li>
<li>
<p><a href="#giphm">About Assembly and Deployment Events</a></p>
</li>
<li>
<p><a href="#giifh">About Deployment Tools</a></p>
</li>
<li>
<p><a href="#gipud">Additional Information on Application Deployment</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Information and instructions on deploying from the command line are
provided in this document. Information and instructions for
accomplishing the deployment tasks by using the Administration Console
are contained in the Administration Console online help.</p>
</div>
<div class="paragraph">
<p><a id="gihzx"></a><a id="GSDPG00061"></a><a id="about-application-deployment"></a></p>
</div>
<div class="sect2">
<h3 id="_about_application_deployment">About Application Deployment</h3>
<div class="paragraph">
<p>Assembly, also known as packaging, is the process of combining discrete
components of an application or module into a single unit that can be
installed on an application server. The GlassFish Server assembly
process conforms to the customary Java EE specifications. The only
difference is that when you assemble applications or modules in
GlassFish Server, you can include optional GlassFish Server deployment
descriptors that enhance functionality.</p>
</div>
<div class="paragraph">
<p>Deployment is the process of installing an application or module on
GlassFish Server, optionally specifying location-specific information,
such as a list of local users that can access the application, or the
name of the local database. GlassFish Server deployment tools expand the
archive file into an open directory structure that is ready for users.
GlassFish Server deployment tools are described in <a href="#giifh">About
Deployment Tools</a>.</p>
</div>
<div class="paragraph">
<p>The following topics are addressed here:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#giptw">General Deployment Functionality</a></p>
</li>
<li>
<p><a href="#gihzc">Deployment Descriptors and Annotations</a></p>
</li>
<li>
<p><a href="#gikhs">Modules and Applications</a></p>
</li>
<li>
<p><a href="#gijla">Access to Shared Framework Classes</a></p>
</li>
<li>
<p><a href="#gihzk">Naming Standards</a></p>
</li>
<li>
<p><a href="#gkhhv">Module and Application Versions</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="giptw"></a><a id="GSDPG00319"></a><a id="general-deployment-functionality"></a></p>
</div>
<div class="sect3">
<h4 id="_general_deployment_functionality">General Deployment Functionality</h4>
<div class="paragraph">
<p>Various Java EE module types, such as connector module, web module, EJB
module, application client module, can be deployed in the following
ways:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Archive Deployment. Deploys the application as an archive file. For
instructions, see <a href="deploying-applications.html#gijmq">To Deploy an
Application or Module</a>.</p>
</li>
<li>
<p>Dynamic Reloading. Redeploys the application by creating or modifying
a special <code>.reload</code> file in the applications repository. For
instructions, see <a href="deploying-applications.html#fwakh">To Reload
Changes to Applications or Modules Dynamically</a>.</p>
</li>
<li>
<p>Automatic Deployment. Deploys the application archive that is placed
in the autodeployment directory. For instructions, see
<a href="deploying-applications.html#fvxze">To Deploy an Application or Module
Automatically</a>.</p>
</li>
<li>
<p>Directory Deployment. Deploys the application in a directory format.
For instructions, see <a href="deploying-applications.html#gilcn">To Deploy an
Application or Module in a Directory Format</a>.</p>
</li>
<li>
<p>JSR 88 Deployment. A deployment mechanism implemented based on the JSR
88 standard from <code>jcp.org</code>. It delivers vendor neutral deployment
options. See <a href="#beaee">JSR 88 Client</a> and <a href="#giiel">JSR 88 Naming</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A deployment plan, which deploys a portable archive along with a
deployment plan containing GlassFish Server deployment descriptors, can
apply to any of these deployment techniques. For instructions, see
<a href="deploying-applications.html#gijyb">To Deploy an Application or Module
by Using a Deployment Plan</a>.</p>
</div>
<div class="paragraph">
<p>There are two work situations that require different safeguards and
processes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A development environment provides a loose set of tools and work
spaces for a relatively small number of developers who are creating and
testing applications and modules.</p>
</li>
<li>
<p>A production environment provides a stable, protected environment
where applications are tuned to maximum efficiency for business use
rather than for development.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Some deployment methods that are used effectively in a development
environment should not be used in production. In addition, whenever a
reload is done, the sessions that are in transit become invalid, which
might not be a concern for development, but can be a serious matter in
production. The client must restart the session, another negative in a
production environment.</p>
</div>
<div class="paragraph">
<p>For production environments, any upgrade should be performed as a
rolling upgrade, which upgrades applications and modules without
interruption in service. For more information, see
<a href="../ha-administration-guide/rolling-upgrade.html#GSHAG00010">Upgrading Applications Without Loss of Availability</a> in
GlassFish Server Open Source Edition High Availability Administration
Guide.</p>
</div>
<div class="paragraph">
<p><a id="gihzc"></a><a id="GSDPG00320"></a><a id="deployment-descriptors-and-annotations"></a></p>
</div>
</div>
<div class="sect3">
<h4 id="_deployment_descriptors_and_annotations">Deployment Descriptors and Annotations</h4>
<div class="paragraph">
<p>A deployment descriptor is an XML file that describes how a Java EE
application or module should be deployed. Each deployment descriptor XML
file has a corresponding Document Type Definition (DTD) file or schema
(XSD) file, which defines the elements, data, and attributes that the
deployment descriptor file can contain. The deployment descriptor
directs a deployment tool to deploy a module or application with
specific container options, and also describes specific configuration
requirements that you must resolve.</p>
</div>
<div class="paragraph">
<p>Because the information in a deployment descriptor is declarative, it
can be changed without requiring modifications to source code. During
deployment, GlassFish Server reads the information in the deployment
descriptor and deploys the application or module as directed.</p>
</div>
<div class="paragraph">
<p>The following types of deployment descriptors are associated with
GlassFish Server:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Java EE Standard Descriptors. Java EE standard deployment descriptors
are described in the Java EE 8 specification. You can find the
specification at <code>http://www.oracle.com/technetwork/java/javaee/tech/</code>.
Information about the XML schemas that define Java EE standard
deployment descriptors is available at
<code>http://xmlns.jcp.org/xml/ns/javaee/</code>.<br>
The Java EE 8 specification permits the use of alternate top-level
standard deployment descriptors that reside outside of the application
archive using the <code>alt-dd</code> mechanism (alternate module-level deployment
descriptors were permitted prior to Java EE 7). Alternate deployment
descriptors are described in the Java EE 7 specification. You can find
the specification at
<code>http://www.oracle.com/technetwork/java/javaee/tech/</code>. Alternate
deployment descriptors override the top-level deployment descriptors
packaged in an application archive. For example, for EAR files, an
alternate deployment descriptor overrides <code>application.xml</code>. For
standalone modules, an alternate deployment descriptor overrides the
top-level module descriptor, such as <code>web.xml</code>.</p>
</li>
<li>
<p>GlassFish Server Descriptors. GlassFish Server provides optional
deployment descriptors for configuring features that are specific to
GlassFish Server. For example, when you assemble an EJB module, you
annotate or create two GlassFish Server deployment descriptor files with
these names: <code>ejb-jar.xml</code> and <code>glassfish-ejb-jar.xml</code>. If the EJB
component is an entity bean with container-managed persistence (CMP),
you can also create a <code>.dbschema</code> file and a <code>sun-cmp-mapping.xml</code> file.
For complete descriptions of these files and their elements, see
<a href="dd-files.html#giida">GlassFish Server Deployment Descriptor Files</a>
and <a href="dd-elements.html#beaqi">Elements of the GlassFish Server
Deployment Descriptors</a>.<br>
GlassFish Server also permits the use of alternate top-level GlassFish
Server runtime deployment descriptors that reside outside of an
application archive. Alternate GlassFish Server deployment descriptors
override the top-level deployment descriptors packaged in the archive.
For example, for EAR files, an alternate GlassFish Server deployment
descriptor overrides <code>glassfish-application.xml</code>. For standalone
modules, an alternate GlassFish Server deployment descriptor overrides
the top-level module descriptor, such as <code>glassfish-web.xml</code>. The name
of the GlassFish Server alternate deployment descriptor file must begin
with <code>glassfish-</code>. Alternate deployment descriptors do not apply to
<code>sun-*.xml</code> deployment descriptors.<br>
Unless otherwise stated, settings in the GlassFish Server deployment
descriptors override corresponding settings in the Java EE standard
descriptors and in the GlassFish Server configuration.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>An annotation, also called metadata, enables a declarative style of
programming. You can specify information within a class file by using
annotations. When the application or module is deployed, the information
can either be used or overridden by the deployment descriptor. GlassFish
Server supports annotation according to the following specifications:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://www.jcp.org/en/jsr/detail?id=250">JSR 250 Common Annotation
Specification</a></p>
</li>
<li>
<p><a href="http://www.jcp.org/en/jsr/detail?id=181">JSR 181 Annotation for Web
Services Specification</a></p>
</li>
<li>
<p><a href="http://www.jcp.org/en/jsr/detail?id=318">EJB 3.1 Specification</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following annotation and deployment descriptor combinations are
supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Java EE applications or modules can be packaged with full Java EE
compliant standard and runtime deployment descriptors. If the standard
deployment descriptors have specified the <code>metadata-complete</code> attribute,
annotations in the application or module are ignored.</p>
</li>
<li>
<p>Java EE applications or modules can be fully annotated with metadata
defined by the listed specifications. Annotation eliminates the need for
Java EE standard deployment descriptors. In most cases, the GlassFish
Server deployment descriptors are also not needed.</p>
</li>
<li>
<p>Java EE applications or modules can be partially annotated with some
deployment information in standard deployment descriptors. In case of
conflicts, deployment descriptor values supersede the annotated
metadata, and a warning message is logged.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="gikhs"></a><a id="GSDPG00321"></a><a id="modules-and-applications"></a></p>
</div>
</div>
<div class="sect3">
<h4 id="_modules_and_applications">Modules and Applications</h4>
<div class="paragraph">
<p>An application is a logical collection of one or more modules joined by
application annotations or deployment descriptors. You assemble
components into JAR, WAR, or RAR files, then combine these files and,
optionally, deployment descriptors into an Enterprise archive (EAR) file
which is deployed.</p>
</div>
<div class="paragraph">
<p>A module is a collection of one or more Java EE components that run in
the same container type, such as a web container or EJB container. The
module uses annotations or deployment descriptors of that container
type. You can deploy a module alone or as part of an application.</p>
</div>
<div class="paragraph">
<p>The following topics are addressed here:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#beacv">Types of Modules</a></p>
</li>
<li>
<p><a href="#beacu">Module-Based Deployment</a></p>
</li>
<li>
<p><a href="#beacw">Application-Based Deployment</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="beacv"></a><a id="GSDPG00307"></a><a id="types-of-modules"></a></p>
</div>
<div class="sect4">
<h5 id="_types_of_modules">Types of Modules</h5>
<div class="paragraph">
<p>GlassFish Server supports the following types of modules:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Web Module. A web module, also known as a web application, is a
collection of servlets, EJBs, HTML pages, classes, and other resources
that you can bundle and deploy to several Java EE application servers. A
web application archive (WAR) file is the standard format for assembling
web applications. A WAR file can consist of the following items:
servlets, JavaServer Pages (JSP) files, JSP tag libraries, utility
classes, static pages, client-side applets, beans, bean classes,
enterprise bean classes, plus annotations or web deployment descriptors
(<code>web.xml</code> and <code>glassfish-web.xml</code>).</p>
</li>
<li>
<p>EJB Module. An EJB module is a deployable software unit that consists
of one or more enterprise beans, plus an EJB deployment descriptor. A
Java archive (JAR) file is the standard format for assembling enterprise
beans. An EJB JAR file contains the bean classes (home, remote, local,
and implementation), all of the utility classes, and annotations or
deployment descriptors (<code>ejb-jar.xml</code> and <code>glassfish-ejb-jar.xml</code>). If
the EJB component is a version 2.1 or earlier entity bean with container
managed persistence (CMP), you can also include a <code>.dbschema</code> file and a
CMP mapping descriptor (<code>sun-cmp-mapping.xml</code>).</p>
</li>
<li>
<p>Connector Module. A connector module, also known as a resource adapter
module, is a deployable software unit that provides a portable way for
EJB components to access foreign enterprise information system (EIS)
data. A connector module consists of all Java interfaces, classes, and
native libraries for implementing a resource module, plus a resource
deployment descriptor. A resource adapter archive (RAR) is the standard
format for assembling connector modules. Each GlassFish Server connector
has annotations or a deployment descriptor file (<code>ra.xml</code>).<br>
After deploying a J2EE connector module, you must configure it as
described in <a href="../application-development-guide/connectors.html#GSDVG00013">Developing Connectors</a> in GlassFish Server
Open Source Edition Application Development Guide.</p>
</li>
<li>
<p>Application Client Module. An application client module is a
deployable software unit that consists of one or more classes, and
application client deployment descriptors (<code>application-client.xml</code> and
<code>glassfish-application-client.xml</code>). An application client JAR file
applies to a GlassFish Server type of Java EE client. An application
client supports the standard Java EE Application Client specifications.</p>
</li>
<li>
<p>Lifecycle Module. A lifecycle module provides a means of running
short-duration or long-duration Java-based tasks within the GlassFish
Server environment. Lifecycle modules are not Java EE standard modules.
See <a href="../application-development-guide/lifecycle-listeners.html#GSDVG00014">Developing Lifecycle Listeners</a> in GlassFish Server
Open Source Edition Application Development Guide for more information.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="beacu"></a><a id="GSDPG00308"></a><a id="module-based-deployment"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_module_based_deployment">Module-Based Deployment</h5>
<div class="paragraph">
<p>You can deploy web, EJB, and application client modules separately,
outside of any application. Module-based deployment is appropriate when
components need to be accessed by other modules, applications, or
application clients. Module-based deployment allows shared access to a
bean from a web, EJB, or application client component.</p>
</div>
<div class="paragraph">
<p>The following figure shows separately-deployed EJB, web, and application
client modules.</p>
</div>
<div class="paragraph">
<p><a id="GSDPG00001"></a><a id="fwfdj"></a></p>
</div>
<div class="paragraph">
<div class="title"><strong>Figure 1-1 Module-Based Assembly and Deployment</strong></div>
<p><span class="image"><img src="img/dgdeploy3.png" alt="Figure shows EJB, web, and application client module assembly and deployment."></span></p>
</div>
<div class="paragraph">
<p><a id="beacw"></a><a id="GSDPG00309"></a><a id="application-based-deployment"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_application_based_deployment">Application-Based Deployment</h5>
<div class="paragraph">
<p>Application-based deployment is appropriate when components need to work
together as one unit.</p>
</div>
<div class="paragraph">
<p>The following figure shows EJB, web, application client, and connector
modules assembled into a Java EE application.</p>
</div>
<div class="paragraph">
<p><a id="GSDPG00002"></a><a id="fvyip"></a></p>
</div>
<div class="paragraph">
<div class="title"><strong>Figure 1-2 Application-Based Assembly and Deployment</strong></div>
<p><span class="image"><img src="img/dgdeploya.png" alt="Figure shows Java EE application assembly and deployment."></span></p>
</div>
<div class="paragraph">
<p><a id="gijla"></a><a id="GSDPG00322"></a><a id="access-to-shared-framework-classes"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_access_to_shared_framework_classes">Access to Shared Framework Classes</h4>
<div class="paragraph">
<p>If you assemble a large, shared library into every module that uses it,
the result is a huge file that takes too long to register with the
server. In addition, several versions of the same class could exist in
different class loaders, which is a waste of resources. When Java EE
applications and modules use shared framework classes (such as utility
classes and libraries), the classes can be put in the path for the
common class loader or an application-specific class loader rather than
in an application or module.</p>
</div>
<div class="paragraph">
<p>To specify an application-specific library file during deployment, use
the <code>--libraries</code> option of the <code>deploy</code> or <code>redeploy</code> subcommand of the
<code>asadmin</code> command. To add a library JAR file to the Common class loader
directory, the Java optional package directory, or the
application-specific class loader directory, use the <code>add-library</code>
subcommand. You can then list the libraries with <code>list-libraries</code> and
remove the libraries with <code>remove-library</code>. For more information about
all these commands, see the GlassFish Server Open Source Edition
Reference Manual.</p>
</div>
<div class="paragraph">
<p>For more information about class loaders, see <a href="../application-development-guide/class-loaders.html#GSDVG00003">Class
Loaders</a> in GlassFish Server Open Source Edition Application Development
Guide.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>According to the Java EE specification, section 8.1.1.2, "Dependencies,"
you cannot package utility classes within an individually-deployed EJB
module. Instead, you must package the EJB module and utility JAR within
an application using the JAR Extension Mechanism Architecture.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><a id="gihzk"></a><a id="GSDPG00323"></a><a id="naming-standards"></a></p>
</div>
</div>
<div class="sect3">
<h4 id="_naming_standards">Naming Standards</h4>
<div class="paragraph">
<p>Names of applications and individually-deployed modules must be unique
within a GlassFish Server domain. Modules within an application must
have unique names. In addition, for enterprise beans that use
container-managed persistence (CMP), the <code>.dbschema</code> file names must be
unique within an application.</p>
</div>
<div class="paragraph">
<p>You should use a hierarchical naming scheme for module file names, EAR
file names, module names as found in the <code>module-name</code> portion of the
<code>ejb-jar.xml</code> files, and EJB names as found in the <code>ejb-name</code> portion of
the <code>ejb-jar.xml</code> files. This hierarchical naming scheme ensures that
name collisions do not occur. The benefits of this naming practice apply
not only to GlassFish Server, but to other Java EE application servers
as well.</p>
</div>
<div class="paragraph">
<p>The following topics are addressed here:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#gjjfg">Portable Naming</a></p>
</li>
<li>
<p><a href="#giidg">JNDI Naming</a></p>
</li>
<li>
<p><a href="#beada">Directory Structure</a></p>
</li>
<li>
<p><a href="#giiel">JSR 88 Naming</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="gjjfg"></a><a id="GSDPG00310"></a><a id="portable-naming"></a></p>
</div>
<div class="sect4">
<h5 id="_portable_naming">Portable Naming</h5>
<div class="paragraph">
<p>Starting in Java EE 6, the Java EE specification defines the portable
<code>application-name</code>, which allows you to specify an application name in
the <code>application.xml</code> file. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">&lt;application-name&gt;xyz&lt;/application-name&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The Java EE specification also defines the portable <code>module-name</code>
element in the module standard deployment descriptors.</p>
</div>
<div class="paragraph">
<p>GlassFish Server determines the application registration name according
to the following order of precedence:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The name specified at deployment time in the Administration Console
or in the <code>--name</code> option of the <code>asadmin deploy</code> command is used.</p>
</li>
<li>
<p>If no name is specified at deployment time, the portable
<code>application-name</code> or <code>module-name</code> in the Java EE deployment descriptor
is used.</p>
</li>
<li>
<p>If no name is specified at deployment time or in the deployment
descriptors, the archive name, minus the file type suffix, is used.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><a id="giidg"></a><a id="GSDPG00311"></a><a id="jndi-naming"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_jndi_naming">JNDI Naming</h5>
<div class="paragraph">
<p>Java Naming and Directory Interface (JNDI) lookup names for EJB
components must also be unique. Establishing a consistent naming
convention can help. For example, appending the application name and the
module name to the EJB name is a way to guarantee unique names, such as,
<code>jms/qConnPool</code>.</p>
</div>
<div class="paragraph">
<p><a id="beada"></a><a id="GSDPG00312"></a><a id="directory-structure"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_directory_structure">Directory Structure</h5>
<div class="paragraph">
<p>Application and module directory structures must follow the structure
outlined in the Java EE specification. During deployment, the
application or module is expanded from the archive file to an open
directory structure. The directories that hold the individual modules
are named with <code>_jar</code>, <code>_rar</code>, and <code>_war</code> suffixes.</p>
</div>
<div class="paragraph">
<p>If you deploy a directory instead of an EAR file, your directory
structure must follow this same convention. For instructions on
performing directory deployment, see
<a href="deploying-applications.html#gilcn">To Deploy an Application or Module
in a Directory Format</a>.</p>
</div>
<div class="paragraph">
<p><a id="gkhhv"></a><a id="GSDPG00324"></a><a id="module-and-application-versions"></a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_module_and_application_versions">Module and Application Versions</h4>
<div class="paragraph">
<p>Application and module versioning allows multiple versions of the same
application to exist in a GlassFish Server domain, which simplifies
upgrade and rollback tasks. At most one version of an application or
module can be enabled on a server any given time. Versioning provides
extensions to tools for deploying, viewing, and managing multiple
versions of modules and applications, including the Administration
Console and deployment-related <code>asadmin</code> subcommands. Different versions
of the same module or application can have the same context root or JNDI
name. Use of versioning is optional.</p>
</div>
<div class="paragraph">
<p>The following topics are addressed here:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#gkhmg">Version Identifiers and Expressions</a></p>
</li>
<li>
<p><a href="#gkhmm">Choosing the Enabled Version</a></p>
</li>
<li>
<p><a href="#gkhob">Versioning Restrictions and Limitations</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="gkhmg"></a><a id="GSDPG00314"></a><a id="version-identifiers-and-expressions"></a></p>
</div>
<div class="sect4">
<h5 id="_version_identifiers_and_expressions">Version Identifiers and Expressions</h5>
<div class="paragraph">
<p>The version identifier is a suffix to the module or application name. It
is separated from the name by a colon (<code>:</code>). It must begin with a letter
or number. It can contain alphanumeric characters plus underscore (<code>_</code>),
dash (<code>-</code>), and period (<code>.</code>) characters. The following examples show
valid version identifiers for the <code>foo</code> application:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">foo:1
foo:BETA-2e
foo:3.8
foo:patch39875</code></pre>
</div>
</div>
<div class="paragraph">
<p>A module or application without a version identifier is called the
untagged version. This version can coexist with other versions of the
same module or application that have version identifiers.</p>
</div>
<div class="paragraph">
<p>In some deployment-related <code>asadmin</code> commands, you can use an asterisk
(<code>*</code>) as a wildcard character to specify a version expression, which
selects multiple version identifiers. Using the asterisk by itself after
the colon selects all versions of a module or application, including the
untagged version. The following table shows example version expressions
and the versions they select.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33%;">
<col style="width: 67%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Version Expression</th>
<th class="tableblock halign-left valign-top">Selected Versions</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>foo:*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All versions of <code>foo</code>, including the untagged version</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>foo:BETA*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All <code>BETA</code> versions of <code>foo</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>foo:3.*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All <code>3.`x versions of `foo</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>foo:patch*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All <code>patch</code> versions of <code>foo</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The following table summarizes which <code>asadmin</code> subcommands are
identifier-aware or expression-aware. All expression-aware subcommands
are also identifier-aware.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Identifier-Aware Subcommands</th>
<th class="tableblock halign-left valign-top">Expression-Aware Subcommands</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>deploy</code>, <code>deploydir</code>, <code>redeploy</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>undeploy</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>enable</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>disable</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>list-sub-components</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>show-component-status</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>get-client-stubs</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>create-application-ref</code>, <code>delete-application-ref</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The <code>create-application-ref</code> subcommand is expression-aware only if the
<code>--enabled</code> option is set to <code>false</code>. Because the <code>--enabled</code> option is
set to <code>true</code> by default, the <code>create-application-ref</code> subcommand is
identifier-aware by default.</p>
</div>
<div class="paragraph">
<p>The <code>list-applications</code> and <code>list-application-refs</code> subcommands display
information about all deployed versions of a module or application. To
find out which version is enabled, use the <code>--long</code> option.</p>
</div>
<div class="paragraph">
<p><a id="gkhmm"></a><a id="GSDPG00315"></a><a id="choosing-the-enabled-version"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_choosing_the_enabled_version">Choosing the Enabled Version</h5>
<div class="paragraph">
<p>At most one version of a module or application can be enabled on a
server instance. All other versions are disabled. Enabling one version
automatically disables all others. You can disable all versions of a
module or application, leaving none enabled.</p>
</div>
<div class="paragraph">
<p>The <code>--enabled</code> option of the <code>deploy</code> and <code>redeploy</code> subcommands is set
to <code>true</code> by default. Therefore, simply deploying or redeploying a
module or application with a new version identifier enables the new
version and disables all others. To deploy a new version in a disabled
state, set the <code>--enabled</code> option to <code>false</code>.</p>
</div>
<div class="paragraph">
<p>To enable a version that has been deployed previously, use the <code>enable</code>
subcommand.</p>
</div>
<div class="paragraph">
<p><a id="gkhob"></a><a id="GSDPG00316"></a><a id="versioning-restrictions-and-limitations"></a></p>
</div>
</div>
<div class="sect4">
<h5 id="_versioning_restrictions_and_limitations">Versioning Restrictions and Limitations</h5>
<div class="paragraph">
<p>Module and application versioning in GlassFish Server is subject to the
following restrictions and limitations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Use of the <code>--name</code> option is mandatory for modules and applications
that use versioning. There is no automatic version identifier
generation.</p>
</li>
<li>
<p>GlassFish Server does not recognize any relationship between versions
such as previous or later versions. All version relationships must be
tracked manually.</p>
</li>
<li>
<p>There is no limit to the number of versions you can deploy except what
is imposed by disk space limits.</p>
</li>
<li>
<p>A module or application in a directory should not be deployed twice
with a different version identifier. To redeploy a module or application
from a directory with a new version, you must use the <code>--force</code> option
of the <code>deploy</code> subcommand.</p>
</li>
<li>
<p>Database tables created or deleted as part of deployment and
undeployment are global resources and cannot be qualified by an
application version. Be very careful when using global resources among
versions of the same application.</p>
</li>
<li>
<p>Web sessions are preserved during redeployment of a new version.
However, preserving sessions among different versions of the same module
or application is complex, because the key used for session variables is
the same for the old and new versions.</p>
</li>
<li>
<p>Resources are created with reference to a resource-adapter&#8217;s module or
application name. This means that an older version&#8217;s resources do not
automatically refer to a newer version of the module or application.
Therefore, you must explicitly create resources for a newer version of a
module or application. GlassFish Server ignores duplicate exported
global resources and lets deployment succeed.</p>
</li>
<li>
<p>OSGi already has its own versioning system. Therefore, when you deploy
an OSGi bundle, GlassFish Server ignores any version information
provided with the name but permits the deployment to succeed with
warnings.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="giphm"></a><a id="GSDPG00062"></a><a id="about-assembly-and-deployment-events"></a></p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_about_assembly_and_deployment_events">About Assembly and Deployment Events</h3>
<div class="paragraph">
<p>The deployment tools that are provided by GlassFish Server can be used
by any user authorized as an administrator to deploy applications and
modules into any GlassFish Server environment. However, effective
application deployment requires planning and care. Only the developer
knows exactly what is required by an application, so the developer is
responsible for initial assembly and deployment.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Deployment Descriptor or Annotation Creation. The developer creates
the deployment descriptors or equivalent annotations using Java
standards and tools.<br>
Details of the GlassFish Server deployment descriptors are contained in
<a href="dd-files.html#giida">GlassFish Server Deployment Descriptor Files</a>
and <a href="dd-elements.html#beaqi">Elements of the GlassFish Server
Deployment Descriptors</a>. The GlassFish Server sample applications
contain deployment descriptors that can be used as templates for
developing deployment descriptors.</p>
</li>
<li>
<p>Assembly. The developer assembles the archive file(s) using Java
standards and tools, such as the <code>jar</code> command. The application or
module is packaged into a JAR, WAR, RAR, or EAR file. For guidelines on
naming, see <a href="#gihzk">Naming Standards</a>.<br>
There are no GlassFish Server issues to consider.</p>
</li>
<li>
<p>Test Deployment. The developer performs a test deployment of the
archive. For instructions, see <a href="deploying-applications.html#gijmq">To
Deploy an Application or Module</a>.</p>
</li>
<li>
<p>Archive Submission. The developer submits the verified archive to
the administrator for deployment into a production environment. The
developer includes instructions for any additional deployment tasks that
the administrator must perform. For an example of such additional
instructions, see <a href="#gijla">Access to Shared Framework Classes</a>.</p>
</li>
<li>
<p>Configuration. The administrator applies additional deployment
specifics. Sometimes the developer has indicated additional deployment
needs, such as specifying the production database. In this case, the
administrator edits and reassembles the archive.</p>
</li>
<li>
<p>Production Deployment. The administrator deploys the archive to
production. See <a href="deploying-applications.html#gijmq">To Deploy an
Application or Module</a>.</p>
</li>
<li>
<p>Troubleshooting. If deployment fails, the administrator returns the
archive to the developer. The developer fixes the problem and resubmits
the archive to the administrator. Sometimes the administrator resolves
the problem, depending on what the problem is.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><a id="giifh"></a><a id="GSDPG00063"></a><a id="about-deployment-tools"></a></p>
</div>
</div>
<div class="sect2">
<h3 id="_about_deployment_tools">About Deployment Tools</h3>
<div class="paragraph">
<p>GlassFish Server provides tools for assembling and deploying a module or
application.</p>
</div>
<div class="paragraph">
<p>The following topics are addressed here:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#giijz">Administration Console</a></p>
</li>
<li>
<p><a href="#giijf">The <code>asadmin</code> Utility</a></p>
</li>
<li>
<p><a href="#giijq">NetBeans IDE</a></p>
</li>
<li>
<p><a href="#gikwq">Eclipse IDE</a></p>
</li>
<li>
<p><a href="#beaee">JSR 88 Client</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="giijz"></a><a id="GSDPG00325"></a><a id="administration-console"></a></p>
</div>
<div class="sect3">
<h4 id="_administration_console">Administration Console</h4>
<div class="paragraph">
<p>The GlassFish Server Administration Console is a browser-based utility
that features a graphical interface that includes extensive online help
for the administrative tasks. The format for starting the Administration
Console in a web browser is <code>http://`hostname</code>:`port. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">http://localhost:4848</code></pre>
</div>
</div>
<div class="paragraph">
<p>Step-by-step instructions for using the Administration Console for
deployment are provided in the Administration Console online help. You
can display the help material for a page by clicking the Help button.
The initial help page describes the functions and fields of the page
itself. To find instructions for performing associated tasks, click a
link in the See Also list.</p>
</div>
<div class="paragraph">
<p><a id="giijf"></a><a id="GSDPG00326"></a><a id="the-asadmin-utility"></a></p>
</div>
</div>
<div class="sect3">
<h4 id="_the_code_asadmin_code_utility">The <code>asadmin</code> Utility</h4>
<div class="paragraph">
<p>The GlassFish Server <code>asadmin</code> utility is a command-line tool that
invokes subcommands for identifying the operation or task that you want
to perform. You can run <code>asadmin</code> commands either from a command prompt
or from a script. The format for starting the <code>asadmin</code> utility on the
command line is as-install`/bin/asadmin` subcommand --option. For
example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">asadmin list-applications --type web</code></pre>
</div>
</div>
<div class="paragraph">
<p>Application deployment commands are listed in
<a href="asadmin-deployment-subcommands.html#gihzw">The <code>asadmin</code> Deployment
Subcommands</a>. All GlassFish Server <code>asadmin</code> subcommands are documented
in the <a href="../reference-manual/toc.html#GSRFM">GlassFish Server Open Source Edition Reference
Manual</a>.</p>
</div>
<div class="paragraph">
<p>For the most part, you can perform the same administrative tasks by
using either the graphical Administration Console or the <code>asadmin</code>
command-line utility, however, there are exceptions. Procedures for
using the command-line utilities are provided in this guide and in the
command-line help pages, which are similar to man pages. You can display
the help material for a command by typing help followed by the
subcommand. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">asadmin help list-applications</code></pre>
</div>
</div>
<div class="paragraph">
<p>For additional information on the <code>asadmin</code> utility, see
"<a href="../administration-guide/general-administration.html#GSADG00530">Using the <code>asadmin</code> Utility</a>" in GlassFish Server Open
Source Edition Administration Guide and the
<a href="../reference-manual/asadmin.html#GSRFM00263"><code>asadmin</code>(1M)</a> help page.</p>
</div>
<div class="paragraph">
<p><a id="giijq"></a><a id="GSDPG00329"></a><a id="netbeans-ide"></a></p>
</div>
</div>
<div class="sect3">
<h4 id="_netbeans_ide">NetBeans IDE</h4>
<div class="paragraph">
<p>You can use the NetBeans Integrated Development Environment (IDE), or
another IDE, to assemble Java EE applications and modules. The NetBeans
IDE is included in the tools bundle of the Java EE Software Development
Kit (SDK). To download, see
<code>http://www.oracle.com/technetwork/java/javaee/downloads/index.html</code>.
For additional information, see <code>http://www.netbeans.org</code>.</p>
</div>
<div class="paragraph">
<p><a id="gikwq"></a><a id="GSDPG00330"></a><a id="eclipse-ide"></a></p>
</div>
</div>
<div class="sect3">
<h4 id="_eclipse_ide">Eclipse IDE</h4>
<div class="paragraph">
<p>In addition to the bundled NetBeans IDE, a plug-in for the Eclipse IDE
extends GlassFish to the Eclipse community.</p>
</div>
<div class="paragraph">
<p><a id="beaee"></a><a id="GSDPG00331"></a><a id="jsr-88-client"></a></p>
</div>
</div>
<div class="sect3">
<h4 id="_jsr_88_client">JSR 88 Client</h4>
<div class="paragraph">
<p>The syntax of the URI entry for the <code>getDeploymentManager</code> method is as
follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">deployer:Sun:AppServer::admin-host:admin-port[:https]</code></pre>
</div>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-oac_no_warn" data-lang="oac_no_warn">deployer:Sun:AppServer::localhost:4848:https</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="gipud"></a><a id="GSDPG00064"></a><a id="additional-information-on-application-deployment"></a></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_additional_information_on_application_deployment">Additional Information on Application Deployment</h3>
<div class="paragraph">
<p>As specified from Java EE 8 specifications, the relevant specifications
are the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Java Platform, Enterprise Edition 8 Specification<br>
<code>https://jcp.org/en/jsr/detail?id=366</code></p>
</li>
<li>
<p>Java EE Application Deployment JSR 88 Specification<br>
<code>http://jcp.org/en/jsr/detail?id=88</code></p>
</li>
<li>
<p>Common Annotations for the Java Platform 1.6 Specification<br>
<code>http://jcp.org/en/jsr/detail?id=250</code></p>
</li>
<li>
<p>Java Servlet 3.0 Specification<br>
<code>http://jcp.org/en/jsr/detail?id=315</code></p>
</li>
<li>
<p>Enterprise JavaBeans 3.1 Specification<br>
<code>http://jcp.org/en/jsr/detail?id=318</code></p>
</li>
<li>
<p>Java EE Connector Architecture 1.6 Specification<br>
<code>http://jcp.org/en/jsr/detail?id=322</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following product documentation might be relevant to some aspects of
application deployment:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../application-development-guide/toc.html#GSDVG">GlassFish Server Open Source Edition Application
Development Guide</a></p>
</li>
<li>
<p><a href="../administration-guide/toc.html#GSADG">GlassFish Server Open Source Edition Administration Guide</a></p>
</li>
<li>
<p><a href="../add-on-component-development-guide/toc.html#GSACG">GlassFish Server Open Source Edition Add-On Component
Development Guide</a></p>
</li>
<li>
<p><a href="../reference-manual/toc.html#GSRFM">GlassFish Server Open Source Edition Reference Manual</a></p>
</li>
<li>
<p>GlassFish Server Administration Console online help</p>
</li>
</ul>
</div>
</div>
</div>
</div>

<hr />

<table width="90%" id="bottom-nav" cellspacing="0" cellpadding="0">
	<colgroup>
		<col width="12%"/>
		<col width="12%"/>
		<col width="*"/>
	</colgroup>
	<tr>		
		<td align="left">
		<a href="preface.html">
			<span class=" vector-font"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i></span>
			<span style="position:relative;top:-2px;">Previous</span>
		</a>
		</td>

		<td align="left">
		<a href="deploying-applications.html">
			<span class="vector-font"><i class="fa fa-arrow-circle-right vector-font" aria-hidden="true"></i></span>
			<span style="position:relative;top:-2px;">Next</span>
		</a>
		</td>

		<td align="right">
		<a href="toc.html">
			<span class="vector-font"><i class="fa fa-list vector-font" aria-hidden="true"></i></span>
			<span style="position:relative;top:-2px;">Contents</span>
		</a>
		</td>
	</tr>
</table>

<span id="copyright">
        <img src="img/eclipse_foundation_logo_tiny.png" height="20px" alt="Eclipse Foundation Logo" align="top"/>&nbsp;            
        <span >Copyright&nbsp;&copy;&nbsp;2019,&nbsp;Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.</span>
</span>

<p align="center" class="beta">DRAFT</p>

</body>
</html>